{"version":3,"sources":["UI/ImageSlider.module.scss","components/Navbar/Navbar.module.scss","components/Error/Error.module.scss","components/Post/Post.module.scss","UI/Modal.module.scss","UI/Overlay.module.scss","store/context/LoginContext.tsx","constants/api_url.ts","components/Error/Error.tsx","pages/login/Login.tsx","utils/api/auth.api.ts","components/Routing/LoggedInRoutesKeeper.tsx","constants/server_url.ts","utils/api/posts.ts","store/redux/constants/actionTypes.ts","components/Post/PostLike.tsx","components/Post/PostComment.tsx","UI/ImageSlider.tsx","components/Post/Post.tsx","store/redux/actions/feed_act.ts","UI/Overlay.tsx","UI/Modal.tsx","pages/index/Feed.tsx","store/redux/selector/Feed.ts","pages/users/Users.tsx","components/Routing/LoggedInRoutes.tsx","pages/register/register.tsx","components/Navbar/Navbar.tsx","components/Routing/Routing.tsx","App.tsx","store/redux/reducers/feed.ts","store/redux/reducers/index.ts","store/redux/store/index.ts","index.tsx"],"names":["module","exports","LoginContext","createContext","API_URL","Error","props","className","styles","error","message","Login","useContext","signUpStatus","setSignUpStatus","setUsername","setIsAuthenticated","setUserId","useState","loginError","setLoginError","email","password","person","setPerson","handleChange","e","name","target","value","id","src","alt","htmlFor","type","placeholder","required","onChange","onClick","preventDefault","user_obj","cb","axios","post","headers","then","response","console","log","catch","login","err","result","data","username","userId","to","LoggedInRoutesKeeper","isAuthenticated","children","SERVER_URL","postCreate","bodyFormData","method","url","withCredentials","fetchFeed","a","get","posts","likePost","like_obj","addComment","comment_obj","createdAt","postId","FEED_FETCH","API_ERROR","COMMENT_ADD","POST_LIKE","POST_CREATE","PostLike","show","setShow","like_arr","map","like","length","PostComment","style","paddingLeft","ImageSlider","slides","current","setCurrent","Array","isArray","slider","left_arrow","right_arrow","img_container","slide","index","active","image","connect","dispatch","onPostComment","doPostComment","onLikeComment","post_like","doLikePost","comment","setComment","commentsVisible","setCommentsVisible","handleLike","isLike","uuidv4","userName","img_urls","_","filter","likes","o","textDecoration","commentList","c","onSubmit","Date","Overlay","setShowModal","showModal","setModalProps","overlay","Modal","useEffect","document","body","classList","add","remove","state","feed","feedState","onFetchFeed","reverse","onPostCreate","post_obj","post_obj_res","doPostCreate","modalProps","img_src","setMessage","file_arr","src_arr","window","URL","revokeObjectURL","postSubmit","FormData","append","i","marginBottom","rows","cols","accept","multiple","files","from","img","binaryData","push","blob","Blob","createObjectURL","getImg","Users","ReactRouterSetup","exact","path","Register","history","useHistory","signUpError","setSignUpError","register","Navbar","setLogoutError","navBar","navBar__item","Routing","LoggedInRoutes","App","Provider","INITIAL_STATE","feedReducer","action","feedStore","new_likes_arr","w","new_post_list","final_state","new_state_post","new_commentList","rootReducer","combineReducers","logger","createLogger","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c33e7c45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"ImageSlider_slider__1jn3h\",\"img_container\":\"ImageSlider_img_container__3eu7U\",\"image\":\"ImageSlider_image__dIU84\",\"right_arrow\":\"ImageSlider_right_arrow__CMivW\",\"left_arrow\":\"ImageSlider_left_arrow__23GNO\",\"slide\":\"ImageSlider_slide__Rt82y\",\"active\":\"ImageSlider_active__yTgON\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"Navbar_navBar__27Cf3\",\"navBar__item\":\"Navbar_navBar__item__38gja\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__T_9Pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3hqZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__2PoK9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__BjDkW\"};","import { createContext, Dispatch, SetStateAction } from \"react\";\n\nexport interface ILoginContext {\n  userId: string;\n  setUserId: Dispatch<SetStateAction<string>>;\n  username: string;\n  setUsername: Dispatch<SetStateAction<string>>;\n  isAuthenticated: boolean;\n  setIsAuthenticated: Dispatch<SetStateAction<boolean>>;\n  signUpStatus: boolean;\n  setSignUpStatus: Dispatch<SetStateAction<boolean>>;\n  showModal: boolean;\n  setShowModal: Dispatch<SetStateAction<boolean>>;\n  modalProps: any;\n  setModalProps: Dispatch<SetStateAction<any>>;\n}\n\nexport const LoginContext = createContext({} as ILoginContext);\n","// const API_URL = \"http://671cdc1794ca.ngrok.io/api\";\nconst API_URL = \"http://localhost:8000/api\";\n// J's server ran locally\n// const API_URL = \"https://idsp.link/api\";\n\nexport default API_URL;\n","import React from \"react\";\nimport styles from \"./Error.module.scss\";\n\nconst Error = (props: any) => {\n  return (\n    <div>\n      <h2 className={styles.error}>{props.message}</h2>\n    </div>\n  );\n};\n\nexport default Error;\n","import React, { useContext, useState } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { Link } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { login } from \"../../utils/api/auth.api\";\nimport Error from \"../../components/Error/Error\";\nimport style from \"./Login.module.scss\";\n\nfunction Login() {\n  const {\n    signUpStatus,\n    setSignUpStatus,\n    setUsername,\n    setIsAuthenticated,\n    setUserId,\n  } = useContext(LoginContext);\n\n  const [loginError, setLoginError] = useState(\"\");\n\n  const [person, setPerson] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setPerson({ ...person, [name]: value });\n  };\n\n  const handleLogin = (e: any) => {\n    e.preventDefault();\n\n    if (person.email && person.password) {\n      const user_obj = {\n        email: person.email,\n        password: person.password,\n      };\n      login(user_obj, (err: Error, result: any) => {\n        if (err) {\n          console.log(err);\n          setLoginError(err.message);\n        } else {\n          setLoginError(\"\");\n\n          setIsAuthenticated(true);\n          setSignUpStatus(false);\n\n          // Can I get username back here?\n          console.log(\"login result message\");\n          console.log(result);\n          setUsername(result.data.username);\n          setUserId(result.data.userId);\n        }\n      });\n    } else {\n      setLoginError(\"You are missing some credentials\");\n    }\n  };\n\n  return (\n    <div>\n      <img\n        id=\"logo\"\n        src=\"https://i.imgur.com/0ldmkwI.png\"\n        alt=\"TownSquareLogo\"\n      ></img>\n      <h1 className=\"townSquareTitle\">TownSquare</h1>\n      <h2>Login</h2>\n\n      <h3>For default user, login with:</h3>\n      <h4>email: bob@bob.com</h4>\n      <h4>password: bob@bob.com</h4>\n\n      {signUpStatus && <h2>Sign up success</h2>}\n      {loginError && <Error message={loginError} />}\n      {/* <h4>bob@bob.com</h4> */}\n      <div>\n        <label htmlFor=\"uname\">\n          <b>email</b>\n        </label>\n        <input\n          type=\"text\"\n          placeholder=\"Enter email\"\n          name=\"email\"\n          required\n          value={person.email}\n          onChange={handleChange}\n        />\n        <br></br>\n        <label htmlFor=\"psw\">\n          <b>Password</b>\n        </label>\n        <input\n          type=\"password\"\n          placeholder=\"Enter Password\"\n          name=\"password\"\n          required\n          value={person.password}\n          onChange={handleChange}\n        />\n        <br></br>\n        <button onClick={handleLogin}>Login</button>\n      </div>\n      <div>\n        <div>\n          <p>Don't have an account?</p>\n          <br></br>\n          <div className=\"register\">\n            <button>\n              <Link to=\"/register\">Register</Link>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","// import { posts } from \"../../FakeDb/posts\";\nimport axios from \"axios\";\nimport SERVER_URL from \"../../constants/server_url\";\nimport API_URL from \"../../constants/api_url\";\n\nconst authenticate = (cb: Function) => {\n  axios\n    .get(`${API_URL}/user/authenticate`)\n    .then((response) => {\n      console.log(\"authenticate response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"authenticate error\");\n      cb(error);\n    });\n};\n\nconst logout = (cb: Function) => {\n  axios\n    .get(`${API_URL}/user/logout`)\n    .then((response) => {\n      console.log(\"post register response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"post logout error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nconst login = (user_obj: {}, cb: Function) => {\n  axios\n    .post(`${API_URL}/user/login`, user_obj, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      // withCredentials: true,\n    })\n    .then((response) => {\n      console.log(\"post login response receive\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"post login error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nconst register = (user_obj: {}, cb: Function) => {\n  axios\n    .post(`${API_URL}/user/signUp`, user_obj)\n    .then((response) => {\n      console.log(\"post register response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"post register error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nexport { register, login, logout, authenticate };\n","import React, { FC, useContext } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport Login from \"../../pages/login/Login\";\n\nconst LoggedInRoutesKeeper = (props: any) => {\n  const { isAuthenticated } = useContext(LoginContext);\n\n  return <>{isAuthenticated ? props.children : <Login />}</>;\n\n  // return props.children;\n};\n\nexport default LoggedInRoutesKeeper;\n","let SERVER_URL = \"\";\n\nif (process.env.NODE_ENV != \"production\") {\n  SERVER_URL = \"http://localhost:8000\";\n} else {\n  SERVER_URL = `https://comp2350-week6-sean-luo.herokuapp.com`;\n}\nexport default SERVER_URL;\n","// import { posts } from \"../../FakeDb/posts\";\nimport axios from \"axios\";\nimport SERVER_URL from \"../../constants/server_url\";\nimport { TComment } from \"../../interfaces/IPost\";\n\nconst postCreate_old = (post_obj: {}, cb: Function) => {\n  axios\n    .post(`${SERVER_URL}/ts/create_post`, {\n      post_obj,\n    })\n    .then((response) => {\n      console.log(\"postCreate response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch((err) => {\n      console.log(\"postCreate error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nconst postCreate = (bodyFormData: any, cb: Function) => {\n  axios({\n    method: \"POST\",\n    // url: `${SERVER_URL}/ts/create_post`,\n    url: `http://localhost:8000/api/post`,\n    data: bodyFormData,\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n    withCredentials: true\n  })\n    .then(function (response) {\n      console.log(\"postCreate response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch(function (err) {\n      console.log(\"postCreate error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nconst fetchFeed = async (cb: Function) => {\n  try {\n    const posts = await axios.get(`${SERVER_URL}/ts/posts`);\n    cb(null, posts.data);\n  } catch (error) {\n    cb(error);\n  }\n};\n\nconst likePost = (like_obj: any, cb: Function) => {\n  axios\n    .post(`${SERVER_URL}/ts/like_post`, like_obj)\n    .then((response) => {\n      console.log(\"likePost response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch((err) => {\n      console.log(\"likePost error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nconst addComment = (comment_obj: TComment, cb: Function) => {\n  console.log(\"comment_objcomment_objcomment_objcomment_obj\");\n\n  console.log(comment_obj);\n\n  axios\n    .post(`${SERVER_URL}/ts/add_comment`, {\n      userId: comment_obj.userId,\n      id: comment_obj.id,\n      username: comment_obj.username,\n      createdAt: comment_obj.createdAt,\n      message: comment_obj.message,\n      postId: comment_obj.postId,\n    })\n    .then((response) => {\n      console.log(\"add_comment response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch((err) => {\n      console.log(\"add_comment error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nexport { fetchFeed, likePost, addComment, postCreate };\n","import { IPost, TComment, TLikes } from \"../../../interfaces/IPost\";\n\n// export const POST_ADD = \"POST_ADD\";\nexport const FEED_FETCH = \"FEED_FETCH\";\nexport const API_ERROR = \"API_ERROR\";\nexport const COMMENT_ADD = \"COMMENT_ADD\";\nexport const POST_LIKE = \"POST_LIKE\";\nexport const POST_CREATE = \"POST_CREATE\";\n\nexport interface FeedFetchAction {\n  type: typeof FEED_FETCH;\n  posts: IPost[];\n}\n\nexport interface ErrorAction {\n  type: typeof API_ERROR;\n  error: string;\n}\n\nexport interface CommentAddAction {\n  type: typeof COMMENT_ADD;\n  comment_obj: TComment;\n}\n\nexport interface LikeAction {\n  type: typeof POST_LIKE;\n  post_like: any;\n}\n\nexport interface postCreateAction {\n  type: typeof POST_CREATE;\n  post_obj_res: any;\n}\n\nexport type FeedAction =\n  | FeedFetchAction\n  | ErrorAction\n  | CommentAddAction\n  | LikeAction\n  | postCreateAction;\n\nexport type FeedActionTypes = FeedAction;\n","import React, { useState } from \"react\";\nimport { TLikes } from \"../../interfaces/IPost\";\n\nconst PostLike = (props: any) => {\n  const [show, setShow] = useState(false);\n  function likeList() {\n    console.log(\"like like like\");\n    console.log(props.like_arr);\n\n    return props.like_arr.map((like: any) => {\n      console.log(like);\n\n      return <li key={like.id}>{like.username}</li>;\n    });\n  }\n\n  return (\n    <div>\n      {show && <ul>{likeList()}</ul>}\n      <h4 onClick={() => setShow(!show)}>{props.like_arr.length}</h4>\n    </div>\n  );\n};\n\nexport default PostLike;\n","import React, { useState } from \"react\";\nimport { TComment } from \"../../interfaces/IPost\";\n\nconst PostComment: React.FC<TComment> = (props) => {\n  return (\n    <>\n      <div>\n        <div className=\"flex--space-between\">\n          <h3>{props.username}</h3>\n          <h4>{props.createdAt}</h4>\n        </div>\n        <h4 style={{ paddingLeft: \"20px\" }}>{props.message}</h4>\n      </div>\n    </>\n  );\n};\n\nexport default PostComment;\n","import React, { useState } from \"react\";\nimport { FaArrowAltCircleRight, FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport { IoIosArrowBack, IoIosArrowForward } from \"react-icons/io\";\n\nimport styles from \"./ImageSlider.module.scss\";\nconst ImageSlider = ({ slides }: any) => {\n  const [current, setCurrent] = useState(0);\n\n  const nextSlide = () => {\n    setCurrent(current === length - 1 ? 0 : current + 1);\n  };\n\n  const prevSlide = () => {\n    setCurrent(current === 0 ? length - 1 : current - 1);\n  };\n\n  if (!slides || !Array.isArray(slides) || slides.length <= 0) {\n    return null;\n  }\n\n  const length = slides.length;\n\n  return (\n    <section className={styles.slider}>\n      <IoIosArrowBack className={styles.left_arrow} onClick={prevSlide} />\n      <IoIosArrowForward className={styles.right_arrow} onClick={nextSlide} />\n      <div className={styles.img_container}>\n        {slides.map((slide: any, index: number) => {\n          return (\n            <div\n              className={\n                index === current\n                  ? `${styles.slide} ${styles.active}`\n                  : `${styles.slide}`\n              }\n              key={index}\n            >\n              {index === current && (\n                <img src={slide} alt=\"travel image\" className={styles.image} />\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </section>\n  );\n};\n\nexport default ImageSlider;\n","import React, { useState, useContext } from \"react\";\nimport { TComment } from \"../../interfaces/IPost\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbUpAltOutlinedIcon from \"@material-ui/icons/ThumbUpAltOutlined\";\nimport PostLike from \"./PostLike\";\nimport PostComment from \"./PostComment\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport _ from \"lodash\";\nimport Error from \"../Error/Error\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { connect } from \"react-redux\";\nimport { doPostComment, doLikePost } from \"../../store/redux/actions/feed_act\";\nimport styles from \"./Post.module.scss\";\nimport ImageSlider from \"../../UI/ImageSlider\";\n\nconst Post = (props: any) => {\n  const { username, userId } = useContext(LoginContext);\n\n  const [comment, setComment] = useState(\"\");\n  const [commentsVisible, setCommentsVisible] = useState(false);\n\n  const commentSubmit = (e: any) => {\n    e.preventDefault();\n\n    const comment_obj: TComment = {\n      userId: userId,\n      username: username,\n      createdAt: new Date(),\n      message: comment,\n      id: uuidv4(),\n      postId: props.id,\n    };\n\n    props.onPostComment(comment_obj);\n  };\n\n  const handleLike = (isLike: boolean) => {\n    const like_obj = {\n      id: uuidv4(),\n      userId: userId,\n      username: username,\n      postId: props.id,\n      isLike: isLike,\n    };\n\n    props.onLikeComment(like_obj);\n  };\n\n  function checkLiked(): boolean {\n    return _.filter(props.likes, (o) => o.userId == userId).length != 0;\n  }\n\n  return (\n    <div key={props.postId} className={styles.post}>\n      <div className=\"flex--space-between\">\n        <h4>{props.userName}</h4>\n        <h4>{props.createdAt}</h4>\n      </div>\n      {/* <h2>{props.title}</h2> */}\n      <h5 style={{ paddingLeft: \"20px\" }}>{props.message}</h5>\n\n      <ImageSlider slides={props.img_urls} />\n      <div className=\"flex--space-between\">\n        <div className=\"flex\">\n          {checkLiked() ? (\n            <ThumbUpIcon\n              onClick={() => {\n                handleLike(false);\n              }}\n            />\n          ) : (\n            <ThumbUpAltOutlinedIcon\n              onClick={() => {\n                handleLike(true);\n              }}\n            />\n          )}\n          <PostLike like_arr={props.likes} />\n        </div>\n        <div>\n          <h4\n            style={{ textDecoration: \"underline\" }}\n            onClick={() => setCommentsVisible(!commentsVisible)}\n          >\n            See Comments\n          </h4>\n        </div>\n      </div>\n\n      {commentsVisible && (\n        <div>\n          <div>\n            {props.commentList.map((c: TComment) => {\n              return <PostComment key={c.id} {...c} />;\n            })}\n          </div>\n          <form onSubmit={commentSubmit}>\n            <input\n              type=\"text\"\n              id=\"comment\"\n              name=\"comment\"\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n            />\n            <button type=\"submit\">add Comment</button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onPostComment: (comment_obj: TComment) =>\n      dispatch(doPostComment(comment_obj)),\n    onLikeComment: (like_obj: any) => dispatch(doLikePost(like_obj)),\n  };\n};\n\n// export default Post;\nexport default connect(null, mapDispatchToProps)(Post);\n","import { Dispatch } from \"redux\";\nimport { IPost, TLikes } from \"../../../interfaces/IPost\";\nimport {\n  fetchFeed,\n  addComment,\n  likePost,\n  postCreate,\n} from \"../../../utils/api/posts\";\nimport { TComment } from \"../../../interfaces/IPost\";\n\nimport {\n  FEED_FETCH,\n  API_ERROR,\n  COMMENT_ADD,\n  POST_LIKE,\n  POST_CREATE,\n} from \"../constants/actionTypes\";\n\nconst doPostCreate = (post_obj: any) => async (dispatch: Dispatch) => {\n  postCreate(post_obj, (err: Error, result: IPost[]) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: POST_CREATE, post_obj_res: result });\n    }\n  });\n};\n\nconst doFetchFeed = () => async (dispatch: Dispatch) => {\n  fetchFeed((err: Error, result: IPost[]) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      result.reverse();\n      dispatch({ type: FEED_FETCH, posts: result });\n    }\n  });\n};\n\nconst doFetchFeedError = (error: string) => ({\n  type: API_ERROR,\n  error,\n});\n\nconst doPostComment = (comment_obj: TComment) => async (dispatch: Dispatch) => {\n  addComment(comment_obj, (err: Error, result: IPost[]) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: COMMENT_ADD, comment_obj: result });\n    }\n  });\n};\n\nconst doLikePost = (like_obj: any) => async (dispatch: Dispatch) => {\n  likePost(like_obj, (err: Error, result: any) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: POST_LIKE, post_like: result });\n    }\n  });\n};\n\nexport {\n  doFetchFeed,\n  doFetchFeedError,\n  doPostComment,\n  doLikePost,\n  doPostCreate,\n};\n","import React, { useContext, useEffect } from \"react\";\nimport styles from \"./Overlay.module.scss\";\nimport { LoginContext } from \"../store/context/LoginContext\";\n\nfunction Overlay() {\n  const { showModal, setShowModal, setModalProps } = useContext(LoginContext);\n  return (\n    <div\n      className={styles.overlay}\n      onClick={() => {\n        setModalProps(null);\n        setShowModal(false);\n      }}\n    ></div>\n  );\n}\n\nexport default Overlay;\n","import React, { useContext, useEffect } from \"react\";\nimport styles from \"./Modal.module.scss\";\nimport Overlay from \"./Overlay\";\nimport { LoginContext } from \"../store/context/LoginContext\";\n\nfunction Modal(props: any) {\n  const { showModal, setShowModal } = useContext(LoginContext);\n\n  useEffect(() => {\n    document.body.classList.add(\"disable_scroll\");\n    return () => {\n      document.body.classList.remove(\"disable_scroll\");\n    };\n  }, []);\n\n  return (\n    <>\n      <div className={`${styles.Modal}`}>{props.children}</div>;\n      <Overlay />\n    </>\n  );\n}\n\nexport default Modal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { connect } from \"react-redux\";\nimport { doFetchFeed, doPostCreate } from \"../../store/redux/actions/feed_act\";\nimport { getFeed, getFeedError } from \"../../store/redux/selector/Feed\";\nimport Post from \"../../components/Post/Post\";\nimport Error from \"../../components/Error/Error\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { IPost } from \"../../interfaces/IPost\";\nimport Modal from \"../../UI/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport ImageSlider from \"../../UI/ImageSlider\";\n\nconst Feed = (props: any) => {\n  const {\n    userId,\n    username,\n    showModal,\n    setShowModal,\n    modalProps,\n    setModalProps,\n  } = useContext(LoginContext);\n\n  let img_src = \"\";\n  // const [title, setTitle] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  let file_arr: any[] = [];\n  let src_arr: string[] = [];\n\n  useEffect(() => {\n    props.onFetchFeed();\n  }, []);\n\n  useEffect(() => {\n    window.URL.revokeObjectURL(img_src);\n  });\n\n  const postSubmit = (e: any) => {\n    e.preventDefault();\n\n    let bodyFormData = new FormData();\n    bodyFormData.append(\"userId\", userId);\n    bodyFormData.append(\"message\", message);\n    bodyFormData.append(\"img_name\", uuidv4());\n\n    //should be done server side\n    bodyFormData.append(\"id\", uuidv4());\n\n    for (let i = 0; i < modalProps.file_arr.length; i++) {\n      bodyFormData.append(\"filesToUpload[]\", modalProps.file_arr[i]);\n    }\n\n    src_arr = [];\n    file_arr = [];\n    setShowModal(false);\n    setModalProps(null);\n\n    // const post_obj: IPost = {\n    //   id: uuidv4(),\n    //   userName: username,\n    //   createdAt: new Date(),\n    //   title: title,\n    //   message: message,\n    //   likes: [],\n    //   commentList: [],\n    // };\n\n    props.onPostCreate(bodyFormData);\n  };\n\n  function getImg(e: any) {\n    console.log(e.target.files);\n\n    file_arr = Array.from(e.target.files);\n    console.log(\"fffffffffffffffffffffff\");\n    console.log(file_arr);\n    file_arr.map((img) => {\n      let binaryData = [];\n      binaryData.push(img);\n      const blob = new Blob(binaryData);\n\n      img_src = window.URL.createObjectURL(blob);\n\n      src_arr.push(img_src);\n    });\n\n    setModalProps({ src_arr: src_arr, file_arr: file_arr });\n  }\n\n  function modalContent() {\n    return (\n      <>\n        <form style={{ marginBottom: \"50px\" }} onSubmit={postSubmit}>\n          {/* <input\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        /> */}\n          <textarea\n            rows={4}\n            cols={50}\n            name=\"message\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n          <div>\n            <input\n              type=\"file\"\n              id=\"myFile\"\n              // style={{ display: \"none\" }}\n              name=\"filename\"\n              accept=\"image/png\"\n              multiple\n              onChange={(e) => getImg(e)}\n            />\n          </div>\n          <input type=\"submit\" />\n        </form>\n        <div>{modalProps && <ImageSlider slides={modalProps.src_arr} />}</div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div>\n        <h1>Posts feed page</h1>\n        <img\n          src=\"https://idsp2.s3-us-west-1.amazonaws.com//images/1619930874561_07_optional_middle_name_1.png\"\n          alt=\"\"\n        />\n        <h2>Welcome: {username}</h2>\n        <button onClick={() => setShowModal(true)}>Upload Post</button>\n        <div>\n          {props.feed.error ? (\n            <Error message={props.feed.error} />\n          ) : props.feed.posts.length > 0 ? (\n            props.feed.posts.map((post: any) => {\n              console.log(\"sssssssssssssssssssssssss\");\n              console.log(post);\n\n              return <Post key={post.id} {...post}></Post>;\n            })\n          ) : (\n            <div>\n              <h2>loading...</h2>\n            </div>\n          )}\n        </div>\n      </div>\n      {showModal && <Modal data={src_arr}>{modalContent()}</Modal>}\n    </>\n  );\n};\n\nconst mapStateToProps = (state: any) => {\n  return {\n    feed: getFeed(state.feedState),\n    error: getFeedError(state.feedState),\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onFetchFeed: () => dispatch(doFetchFeed()),\n    onPostCreate: (post_obj: IPost) => dispatch(doPostCreate(post_obj)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feed);\n","import { IPost } from \"../../../interfaces/IPost\";\nimport IFeed from \"../../../interfaces/redux\";\n\nconst getFeed = (feedState: IFeed) => {\n  return feedState;\n};\n\nconst getFeedError = (feedState: IFeed) => feedState.error;\n\nexport { getFeed, getFeedError };\n","import React, { useState, useContext } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\n\nfunction Users() {\n  const { username } = useContext(LoginContext);\n\n  return (\n    <div>\n      <h1>Users page</h1>\n      <h2>Welcome: {username} </h2>\n    </div>\n  );\n}\n\nexport default Users;\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"../../pages/index/Feed\";\nimport Users from \"../../pages/users/Users\";\nconst ReactRouterSetup = () => {\n  return (\n    <>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n\n      {/* \n        <Route path=\"/\" render={(props) => <Home {...props} />} />\n      */}\n\n      <Route path=\"/users\">\n        <Users />\n      </Route>\n    </>\n  );\n};\n\nexport default ReactRouterSetup;\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { register } from \"../../utils/api/auth.api\";\nimport Error from \"../../components/Error/Error\";\nimport style from \"./Register.module.scss\";\n\nconst Register = () => {\n  const history = useHistory();\n  const [person, setPerson] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const { setSignUpStatus } = useContext(LoginContext);\n  const [signUpError, setSignUpError] = useState(\"\");\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setPerson({ ...person, [name]: value });\n  };\n  const handleRegister = (e: any) => {\n    e.preventDefault();\n    if (person.email && person.password && person.username) {\n      const user_obj = {\n        username: person.username,\n        email: person.email,\n        password: person.password,\n      };\n      register(user_obj, (err: Error, result: any) => {\n        if (err) {\n          console.log(err);\n          setSignUpError(err.message);\n        } else {\n          setSignUpError(\"\");\n          setSignUpStatus(true);\n          console.log(\"registration result message\");\n          console.log(result.data.message);\n\n          history.push(\"/\");\n        }\n      });\n    } else {\n      setSignUpError(\"You are missing some credentials\");\n    }\n  };\n  return (\n    <>\n      <img\n        id=\"logo\"\n        src=\"https://i.imgur.com/0ldmkwI.png\"\n        alt=\"TownSquareLogo\"\n      ></img>\n      <h2 className=\"signUpTitle\">Sign Up</h2>\n      <article className=\"form\">\n        {signUpError && <Error message={signUpError} />}\n        <form>\n          <div className=\"form-control\">\n            <label htmlFor=\"username\">username : </label>\n            <input\n              type=\"username\"\n              id=\"username\"\n              name=\"username\"\n              placeholder=\"Create a username\"\n              value={person.username}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"email\">Email : </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Please enter your email\"\n              value={person.email}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"password\">password : </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Create a password\"\n              value={person.password}\n              onChange={handleChange}\n            />\n          </div>\n\n          <button type=\"submit\" onClick={handleRegister}>\n            Register\n          </button>\n        </form>\n      </article>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { logout } from \"../../utils/api/auth.api\";\nimport styles from \"./Navbar.module.scss\";\n\nfunction Navbar() {\n  const [logoutError, setLogoutError] = useState(\"\");\n\n  const { setUsername, setIsAuthenticated, setUserId } = useContext(\n    LoginContext\n  );\n\n  function handleLogout() {\n    logout((err: Error, result: any) => {\n      if (err) {\n        console.log(err);\n        setLogoutError(err.message);\n      } else {\n        setLogoutError(\"\");\n\n        // Can I get username back here?\n        console.log(\"LOGOUT result message\");\n        console.log(result);\n        setUsername(\"\");\n        setUserId(\"\");\n        setIsAuthenticated(false);\n      }\n    });\n  }\n  return (\n    <div className={`${styles.navBar} flex--space-around`}>\n      <div className={styles.navBar__item}>\n        <Link to=\"/\">Home</Link>\n      </div>\n      <div className={styles.navBar__item}>\n        <Link to=\"/users\">Users</Link>\n      </div>\n      <div className={styles.navBar__item}>\n        <button onClick={handleLogout}>Logout</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport LoggedInRoutesKeeper from \"./LoggedInRoutesKeeper\";\nimport LoggedInRoutes from \"./LoggedInRoutes\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Register from \"../../pages/register/register\";\nimport Navbar from \"../Navbar/Navbar\";\nimport { authenticate } from \"../../utils/api/auth.api\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\n\nconst Routing = () => {\n  const {\n    signUpStatus,\n    setSignUpStatus,\n    setUsername,\n    setIsAuthenticated,\n    setUserId,\n  } = useContext(LoginContext);\n\n  // Faking login for dev, to remove for production and uncomment Below!\n  // useEffect(() => {\n  //   setIsAuthenticated(true);\n  //   setSignUpStatus(false);\n  //   setUsername(\"tester\");\n  //   setUserId(\"tester_id\");\n  // }, []);\n\n  // useEffect(() => {\n  //   authenticate((err: Error, result: any) => {\n  //     if (err) {\n  //       console.log(err);\n  //       console.log(\"axios request error, or server down?\");\n  //     } else {\n  //       if (\n  //         result.data.message != \"Unauthorized\" &&\n  //         result.data.username &&\n  //         result.data.userId\n  //       ) {\n  //         setIsAuthenticated(true);\n  //         setSignUpStatus(false);\n  //         setUsername(result.data.username);\n  //         setUserId(result.data.userId);\n  //       } else {\n  //         console.log(\"user not authenticated: \" + result.data.message);\n  //       }\n  //     }\n  //   });\n  // }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        {/* <Route path=\"/login\">\n          <Login />\n        </Route> */}\n        <LoggedInRoutesKeeper>\n          <Navbar />\n          <LoggedInRoutes />\n        </LoggedInRoutesKeeper>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default Routing;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.scss\";\nimport { LoginContext } from \"./store/context/LoginContext\";\nimport Routing from \"./components/Routing/Routing\";\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [signUpStatus, setSignUpStatus] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalProps, setModalProps] = useState(false);\n\n  return (\n    <LoginContext.Provider\n      value={{\n        userId,\n        setUserId,\n        isAuthenticated,\n        username,\n        setUsername,\n        setIsAuthenticated,\n        signUpStatus,\n        setSignUpStatus,\n        showModal,\n        setShowModal,\n        modalProps,\n        setModalProps,\n      }}\n    >\n      <Routing />\n    </LoginContext.Provider>\n  );\n}\n\nexport default App;\n","import {\n  FEED_FETCH,\n  API_ERROR,\n  FeedActionTypes,\n  COMMENT_ADD,\n  POST_LIKE,\n  POST_CREATE,\n} from \"../constants/actionTypes\";\nimport { fetchFeed } from \"../../../utils/api/posts\";\nimport { IPost } from \"../../../interfaces/IPost\";\nimport _ from \"lodash\";\n\nconst INITIAL_STATE = {\n  posts: <any[]>[],\n  error: null,\n};\n\nfunction feedReducer(feedState = INITIAL_STATE, action: FeedActionTypes) {\n  switch (action.type) {\n    case POST_CREATE: {\n      console.log(\"case POST_CREATE\");\n      console.log(action.post_obj_res);\n\n      const feedStore = {\n        ...feedState,\n        posts: [...[action.post_obj_res], ...feedState.posts],\n      };\n\n      return feedStore;\n    }\n    case FEED_FETCH: {\n      console.log(\"case FEED_FETCH\");\n      console.log(action.posts);\n\n      const feedStore = { ...feedState, posts: action.posts };\n\n      return feedStore;\n    }\n    case API_ERROR: {\n      console.log(\"case API_ERROR\");\n      console.log(action.error);\n\n      return { ...feedState, error: action.error };\n    }\n\n    case POST_LIKE: {\n      console.log(\"case POST_LIKE\");\n\n      let new_likes_arr: any[] = [];\n\n      for (let i = 0; i < feedState.posts.length; i++) {\n        if (feedState.posts[i].id == action.post_like.postId) {\n          if (!action.post_like.isLike) {\n            new_likes_arr = _.filter(\n              feedState.posts[i].likes,\n              (w) => w.userId != action.post_like.userId\n            );\n          } else {\n            new_likes_arr = [\n              ...feedState.posts[i].likes,\n              ...[\n                {\n                  id: action.post_like.id,\n                  userId: action.post_like.userId,\n                  postId: action.post_like.postId,\n                  username: action.post_like.username,\n                },\n              ],\n            ];\n          }\n          break;\n        }\n      }\n\n      const new_post_list = feedState.posts.map((post) => {\n        if (post.id == action.post_like.postId) {\n          return {\n            ...post,\n            likes: new_likes_arr,\n          };\n        }\n        return { ...post };\n      });\n\n      const final_state = {\n        ...feedState,\n        posts: new_post_list,\n      };\n\n      return final_state;\n    }\n\n    case COMMENT_ADD: {\n      console.log(\"case COMMENT_ADD\");\n\n      const new_state_post = feedState.posts.map((post) => {\n        if (post.id == action.comment_obj.postId) {\n          const new_commentList = [...post.commentList, action.comment_obj];\n\n          return { ...post, commentList: new_commentList };\n        } else {\n          return post;\n        }\n      });\n\n      return { ...feedState, posts: new_state_post };\n    }\n\n    default:\n      return feedState;\n  }\n}\n\nexport default feedReducer;\n","import { combineReducers } from \"redux\";\nimport feedReducer from \"./feed\";\n\nconst rootReducer = combineReducers({\n  feedState: feedReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger\";\nimport rootReducer from \"../reducers\";\n\nconst logger = createLogger();\n\nconst store = createStore(rootReducer, applyMiddleware(thunk, logger));\n\nexport default store;\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store/redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}