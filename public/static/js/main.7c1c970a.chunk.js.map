{"version":3,"sources":["UI/ImageSlider.module.scss","components/Navbar/Navbar.module.scss","components/Users/UserGrid.module.scss","components/Error/Error.module.scss","UI/Modal.module.scss","UI/Overlay.module.scss","components/Post/Post.module.scss","store/context/LoginContext.tsx","constants/api_url.ts","components/Error/Error.tsx","pages/login/LoginPg.tsx","utils/api/auth.api.ts","components/Routing/LoggedInRoutesKeeper.tsx","UI/Overlay.tsx","UI/Modal.tsx","constants/mock_server_url.ts","utils/api/posts.api.ts","store/redux/constants/feedActionTypes.ts","components/Post/PostLike.tsx","components/Post/PostComment.tsx","UI/ImageSlider.tsx","components/Post/Post.tsx","store/redux/actions/feed_act.ts","components/Feed/Feed.tsx","store/redux/selector/Feed.ts","pages/index/FeedPg.tsx","store/redux/selector/Users.ts","pages/person/Person.tsx","utils/api/users.api.ts","store/redux/constants/usersActionTypes.ts","components/Users/UserGrid.tsx","pages/users/UsersPg.tsx","store/redux/actions/users_act.ts","components/Routing/LoggedInRoutes.tsx","pages/register/RegisterPg.page.tsx","components/Navbar/Navbar.tsx","components/Routing/Routing.tsx","App.tsx","store/redux/reducers/feed.ts","store/redux/reducers/user.ts","store/redux/reducers/index.ts","store/redux/store/index.ts","index.tsx"],"names":["module","exports","LoginContext","createContext","API_URL","Error","props","className","styles","error","message","Login","useContext","signUpStatus","setSignUpStatus","setUsername","setIsAuthenticated","setUserId","useState","loginError","setLoginError","email","password","person","setPerson","handleChange","e","name","target","value","id","src","alt","htmlFor","type","placeholder","required","onChange","onClick","preventDefault","user_obj","cb","axios","post","headers","then","response","console","log","catch","login","err","result","data","username","userId","to","LoggedInRoutesKeeper","isAuthenticated","children","Overlay","setShowModal","showModal","setModalProps","overlay","Modal","useEffect","document","body","classList","add","remove","SERVER_URL","postCreate","bodyFormData","method","url","fetchFeed","a","get","posts","likePost","like_obj","addComment","comment_obj","createdAt","postId","FEED_FETCH","API_ERROR","COMMENT_ADD","POST_LIKE","POST_CREATE","PostLike","show","setShow","like_arr","map","like","length","PostComment","style","paddingLeft","ImageSlider","slides","current","setCurrent","Array","isArray","slider","left_arrow","img_container","slide","index","active","image","right_arrow","connect","dispatch","onPostComment","doPostComment","onLikeComment","post_like","doLikePost","comment","setComment","commentsVisible","setCommentsVisible","handleLike","isLike","uuidv4","userName","img_urls","_","filter","likes","o","textDecoration","commentList","c","onSubmit","Date","state","feed","feedState","onFetchFeed","reverse","onPostCreate","post_obj","post_obj_res","doPostCreate","modalProps","img_src","setMessage","file_arr","src_arr","forEach","window","URL","revokeObjectURL","postSubmit","FormData","append","i","marginBottom","rows","cols","accept","multiple","files","from","img","binaryData","push","blob","Blob","createObjectURL","getImg","getUser","usersState","users","user","userFeed","useParams","age","gender","fetchUsers","USERS_FETCH","UserGrid","grid","profile_pic","userTile","onFetchUsers","ReactRouterSetup","exact","path","Register","history","useHistory","signUpError","setSignUpError","register","Navbar","setLogoutError","navBar","navBar__item","Routing","LoggedInRoutes","App","Provider","INITIAL_STATE","feedReducer","action","feedStore","new_likes_arr","w","new_post_list","final_state","new_state_post","new_commentList","userReducer","usersStore","rootReducer","combineReducers","logger","createLogger","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"4FACAA,EAAOC,QAAU,CAAC,OAAS,4BAA4B,cAAgB,mCAAmC,MAAQ,2BAA2B,YAAc,iCAAiC,WAAa,gCAAgC,MAAQ,2BAA2B,OAAS,8B,mBCArRD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,+B,mBCAjED,EAAOC,QAAU,CAAC,KAAO,uBAAuB,SAAW,6B,mBCA3DD,EAAOC,QAAU,CAAC,MAAQ,uB,mBCA1BD,EAAOC,QAAU,CAAC,MAAQ,uB,mBCA1BD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,KAAO,qB,oICgBZC,G,MAAeC,wBAAc,K,wCCZ3BC,EAJC,4B,wBCUDC,EARD,SAACC,GACb,OACE,8BACE,oBAAIC,UAAWC,IAAOC,MAAtB,SAA8BH,EAAMI,aCiH3BC,MA/Gf,WAAkB,IAAD,EAOXC,qBAAWV,GALbW,EAFa,EAEbA,aACAC,EAHa,EAGbA,gBACAC,EAJa,EAIbA,YACAC,EALa,EAKbA,mBACAC,EANa,EAMbA,UANa,EASqBC,mBAAS,IAT9B,mBASRC,EATQ,KASIC,EATJ,OAWaF,mBAAS,CACnCG,MAAO,GACPC,SAAU,KAbG,mBAWRC,EAXQ,KAWAC,EAXA,KAgBTC,EAAe,SAACC,GACpB,IAAMC,EAAOD,EAAEE,OAAOD,KAChBE,EAAQH,EAAEE,OAAOC,MACvBL,EAAU,2BAAKD,GAAN,kBAAeI,EAAOE,MAiCjC,OACE,gCACE,qBACEC,GAAG,OACHC,IAAI,kCACJC,IAAI,mBAEN,oBAAIzB,UAAU,kBAAd,wBACA,uCAEA,+DACA,oDACA,uDAECM,GAAgB,iDAChBM,GAAc,cAAC,EAAD,CAAOT,QAASS,IAE/B,gCACE,uBAAOc,QAAQ,QAAf,SACE,wCAEF,uBACEC,KAAK,OACLC,YAAY,cACZR,KAAK,QACLS,UAAQ,EACRP,MAAON,EAAOF,MACdgB,SAAUZ,IAEZ,uBACA,uBAAOQ,QAAQ,MAAf,SACE,2CAEF,uBACEC,KAAK,WACLC,YAAY,iBACZR,KAAK,WACLS,UAAQ,EACRP,MAAON,EAAOD,SACde,SAAUZ,IAEZ,uBACA,wBAAQa,QAxEM,SAACZ,IACnBA,EAAEa,iBAEEhB,EAAOF,OAASE,EAAOD,UCCjB,SAACkB,EAAcC,GAC3BC,IACGC,KADH,UACWvC,EADX,eACiCoC,EAAU,CACvCI,QAAS,CACP,eAAgB,sBAInBC,MAAK,SAACC,GACLC,QAAQC,IAAI,+BACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,MAEVG,OAAM,SAACxC,GACNsC,QAAQC,IAAI,oBACZD,QAAQC,IAAIvC,GACZgC,EAAGhC,MDZHyC,CAJiB,CACf7B,MAAOE,EAAOF,MACdC,SAAUC,EAAOD,WAEH,SAAC6B,EAAYC,GACvBD,GACFJ,QAAQC,IAAIG,GACZ/B,EAAc+B,EAAIzC,WAElBU,EAAc,IAEdJ,GAAmB,GACnBF,GAAgB,GAGhBiC,QAAQC,IAAI,wBACZD,QAAQC,IAAII,GACZrC,EAAYqC,EAAOC,KAAKC,UACxBrC,EAAUmC,EAAOC,KAAKE,YAI1BnC,EAAc,qCA8CZ,sBAEF,8BACE,gCACE,uDACA,uBACA,qBAAKb,UAAU,WAAf,SACE,iCACE,cAAC,IAAD,CAAMiD,GAAG,YAAT,mCElGCC,EARc,SAACnD,GAAgB,IACpCoD,EAAoB9C,qBAAWV,GAA/BwD,gBAER,OAAO,mCAAGA,EAAkBpD,EAAMqD,SAAW,cAAC,EAAD,O,iDCUhCC,MAbf,WAAoB,IAAD,EACkChD,qBAAWV,GAA3C2D,GADF,EACTC,UADS,EACED,cAAcE,EADhB,EACgBA,cACjC,OACE,qBACExD,UAAWC,IAAOwD,QAClB1B,QAAS,WACPyB,EAAc,MACdF,GAAa,OCYNI,MAlBf,SAAe3D,GAAa,IAAD,EACWM,qBAAWV,GAS/C,OAVyB,EACjB4D,UADiB,EACND,aAEnBK,qBAAU,WAER,OADAC,SAASC,KAAKC,UAAUC,IAAI,kBACrB,WACLH,SAASC,KAAKC,UAAUE,OAAO,qBAEhC,IAGD,qCACE,qBAAKhE,UAAS,UAAKC,IAAOyD,OAA1B,SAAoC3D,EAAMqD,WAD5C,IAEE,cAAC,EAAD,Q,wBCXSa,EAFH,gDCiBNC,EAAa,SAACC,EAAmBjC,GACrCC,IAAM,CACJiC,OAAQ,OACRC,IAAI,GAAD,OAAKJ,EAAL,mBAEHnB,KAAMqB,EACN9B,QAAS,CAAE,eAAgB,yBAE1BC,MAAK,SAAUC,GACdC,QAAQC,IAAI,uBACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,EAASO,SAEnBJ,OAAM,SAAUE,GACfJ,QAAQC,IAAI,oBACZD,QAAQC,IAAIG,GACZV,EAAGU,OAIH0B,EAAS,uCAAG,WAAOpC,GAAP,eAAAqC,EAAA,+EAEMpC,IAAMqC,IAAN,UAAaP,EAAb,cAFN,OAERQ,EAFQ,OAGdvC,EAAG,KAAMuC,EAAM3B,MAHD,gDAKdZ,EAAG,EAAD,IALY,yDAAH,sDASTwC,EAAW,SAACC,EAAezC,GAC/BC,IACGC,KADH,UACW6B,EADX,iBACsCU,GACnCrC,MAAK,SAACC,GACLC,QAAQC,IAAI,qBACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,EAASO,SAEnBJ,OAAM,SAACE,GACNJ,QAAQC,IAAI,kBACZD,QAAQC,IAAIG,GACZV,EAAGU,OAIHgC,EAAa,SAACC,EAAuB3C,GACzCM,QAAQC,IAAI,gDAEZD,QAAQC,IAAIoC,GAEZ1C,IACGC,KADH,UACW6B,EADX,mBACwC,CACpCjB,OAAQ6B,EAAY7B,OACpBzB,GAAIsD,EAAYtD,GAChBwB,SAAU8B,EAAY9B,SACtB+B,UAAWD,EAAYC,UACvB3E,QAAS0E,EAAY1E,QACrB4E,OAAQF,EAAYE,SAErBzC,MAAK,SAACC,GACLC,QAAQC,IAAI,wBACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,EAASO,SAEnBJ,OAAM,SAACE,GACNJ,QAAQC,IAAI,qBACZD,QAAQC,IAAIG,GACZV,EAAGU,OCrFIoC,EAAa,aACbC,EAAY,YACZC,EAAc,cACdC,EAAY,YACZC,EAAc,c,kCCiBZC,EArBE,SAACtF,GAAgB,IAAD,EACPY,oBAAS,GADF,mBACxB2E,EADwB,KAClBC,EADkB,KAa/B,OACE,gCACGD,GAAQ,8BAZX9C,QAAQC,IAAI,kBACZD,QAAQC,IAAI1C,EAAMyF,UAEXzF,EAAMyF,SAASC,KAAI,SAACC,GAGzB,OAFAlD,QAAQC,IAAIiD,GAEL,6BAAmBA,EAAK3C,UAAf2C,EAAKnE,UAOrB,oBAAIQ,QAAS,kBAAMwD,GAASD,IAA5B,SAAoCvF,EAAMyF,SAASG,aCF1CC,EAdyB,SAAC7F,GACvC,OACE,mCACE,gCACE,sBAAKC,UAAU,sBAAf,UACE,6BAAKD,EAAMgD,WACX,6BAAKhD,EAAM+E,eAEb,oBAAIe,MAAO,CAAEC,YAAa,QAA1B,SAAqC/F,EAAMI,gB,4DCsCpC4F,GA5CK,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,OAAkB,EACTrF,mBAAS,GADA,mBAChCsF,EADgC,KACvBC,EADuB,KAWvC,IAAKF,IAAWG,MAAMC,QAAQJ,IAAWA,EAAOL,QAAU,EACxD,OAAO,KAGT,IAAMA,EAASK,EAAOL,OAEtB,OACE,0BAAS3F,UAAWC,KAAOoG,OAA3B,UACE,cAAC,IAAD,CAAgBrG,UAAWC,KAAOqG,WAAYvE,QAZhC,WAChBmE,EAAuB,IAAZD,EAAgBN,EAAS,EAAIM,EAAU,MAahD,qBAAKjG,UAAWC,KAAOsG,cAAvB,SACGP,EAAOP,KAAI,SAACe,EAAYC,GACvB,OACE,qBACEzG,UACEyG,IAAUR,EAAV,UACOhG,KAAOuG,MADd,YACuBvG,KAAOyG,QAD9B,UAEOzG,KAAOuG,OAJlB,SAQGC,IAAUR,GACT,qBAAKzE,IAAKgF,EAAO/E,IAAI,eAAezB,UAAWC,KAAO0G,SAHnDF,QASb,cAAC,IAAD,CAAmBzG,UAAWC,KAAO2G,YAAa7E,QApCpC,WAChBmE,EAAWD,IAAYN,EAAS,EAAI,EAAIM,EAAU,UCgHvCY,eAAQ,MATI,SAACC,GAC1B,MAAO,CACLC,cAAe,SAAClC,GAAD,OACbiC,ECvEgB,SAACjC,GAAD,8CAA2B,WAAOiC,GAAP,SAAAvC,EAAA,sDAC/CK,EAAWC,GAAa,SAACjC,EAAYC,GAEjCiE,EADElE,EACO,CAAEjB,KAAMsD,EAAW/E,MAAO0C,EAAIzC,SAE9B,CAAEwB,KAAMuD,EAAaL,YAAahC,OALA,2CAA3B,sDDuEPmE,CAAcnC,KACzBoC,cAAe,SAACtC,GAAD,OAAmBmC,EC9DnB,SAACnC,GAAD,8CAAmB,WAAOmC,GAAP,SAAAvC,EAAA,sDACpC/B,QAAQC,IAAI,6BACZiC,EAASC,GAAU,SAAC/B,EAAYC,GAE5BiE,EADElE,EACO,CAAEjB,KAAMsD,EAAW/E,MAAO0C,EAAIzC,SAE9B,CAAEwB,KAAMwD,EAAW+B,UAAWrE,OANP,2CAAnB,sDD8D4BsE,CAAWxC,QAK3CkC,EA3GF,SAAC9G,GAAgB,IAAD,EACEM,qBAAWV,GAAhCoD,EADmB,EACnBA,SAAUC,EADS,EACTA,OADS,EAGGrC,mBAAS,IAHZ,mBAGpByG,EAHoB,KAGXC,EAHW,OAImB1G,oBAAS,GAJ5B,mBAIpB2G,EAJoB,KAIHC,EAJG,KAqBrBC,EAAa,SAACC,GAClBjF,QAAQC,IAAI,4BACZ,IAAMkC,EAAW,CACfpD,GAAImG,eACJ1E,OAAQA,EACRD,SAAUA,EACVgC,OAAQhF,EAAMwB,GACdkG,OAAQA,GAGV1H,EAAMkH,cAActC,IAOtB,OACE,sBAAwB3E,UAAWC,IAAOmC,KAA1C,UACE,sBAAKpC,UAAU,sBAAf,UACE,6BAAKD,EAAM4H,WACX,6BAAK5H,EAAM+E,eAGb,oBAAIe,MAAO,CAAEC,YAAa,QAA1B,SAAqC/F,EAAMI,UAE3C,cAAC,GAAD,CAAa6F,OAAQjG,EAAM6H,WAC3B,sBAAK5H,UAAU,sBAAf,UACE,sBAAKA,UAAU,OAAf,UAd8D,GAA3D6H,IAAEC,OAAO/H,EAAMgI,OAAO,SAACC,GAAD,OAAOA,EAAEhF,QAAUA,KAAQ2C,OAgBhD,cAAC,IAAD,CACE5D,QAAS,WACPyF,GAAW,MAIf,cAAC,IAAD,CACEzF,QAAS,WACPyF,GAAW,MAIjB,cAAC,EAAD,CAAUhC,SAAUzF,EAAMgI,WAE5B,8BACE,oBACElC,MAAO,CAAEoC,eAAgB,aACzBlG,QAAS,kBAAMwF,GAAoBD,IAFrC,+BASHA,GACC,gCACE,8BACGvH,EAAMmI,YAAYzC,KAAI,SAAC0C,GACtB,OAAO,cAAC,EAAD,eAA4BA,GAAVA,EAAE5G,SAG/B,uBAAM6G,SA5EQ,SAACjH,GACrBA,EAAEa,iBAEF,IAAM6C,EAAwB,CAC5B7B,OAAQA,EACRD,SAAUA,EACV+B,UAAW,IAAIuD,KACflI,QAASiH,EACT7F,GAAImG,eACJ3C,OAAQhF,EAAMwB,IAGhBxB,EAAMgH,cAAclC,IAgEd,UACE,uBACElD,KAAK,OACLJ,GAAG,UACHH,KAAK,UACLE,MAAO8F,EACPtF,SAAU,SAACX,GAAD,OAAOkG,EAAWlG,EAAEE,OAAOC,UAEvC,wBAAQK,KAAK,SAAb,iCAnDE5B,EAAMgF,WEXL8B,gBAbS,SAACyB,GACvB,MAAO,CACLC,KAAcD,EAAME,UACpBtI,OCzBkBsI,EDyBEF,EAAME,UCzBaA,EAAUtI,QAAhC,IAACsI,KD6BK,SAAC1B,GAC1B,MAAO,CACL2B,YAAa,kBAAM3B,EDVH,uCAAM,WAAOA,GAAP,SAAAvC,EAAA,sDACxBD,GAAU,SAAC1B,EAAYC,GACjBD,EACFkE,EAAS,CAAEnF,KAAMsD,EAAW/E,MAAO0C,EAAIzC,WAEvC0C,EAAO6F,UACP5B,EAAS,CAAEnF,KAAMqD,EAAYP,MAAO5B,QANhB,2CAAN,2DCcLgE,EAnCF,SAAC9G,GAKZ,OAJA4D,qBAAU,WACR5D,EAAM0I,gBACL,IAGD,8BACG1I,EAAMwI,KAAKrI,MACV,cAAC,EAAD,CAAOC,QAASJ,EAAMwI,KAAKrI,QACzBH,EAAMwI,KAAK9D,MAAMkB,OAAS,EAC5B5F,EAAMwI,KAAK9D,MAAMgB,KAAI,SAACrD,GACpB,OAAO,cAAC,GAAD,eAAwBA,GAAbA,EAAKb,OAGzB,8BACE,mDEyHKsF,eAAQ,MANI,SAACC,GAC1B,MAAO,CACL6B,aAAc,SAACC,GAAD,OAAqB9B,EHzHlB,SAAC8B,GAAD,8CAAmB,WAAO9B,GAAP,SAAAvC,EAAA,sDACtCL,EAAW0E,GAAU,SAAChG,EAAYC,GAE9BiE,EADElE,EACO,CAAEjB,KAAMsD,EAAW/E,MAAO0C,EAAIzC,SAE9B,CAAEwB,KAAMyD,EAAayD,aAAchG,OALV,2CAAnB,sDGyH2BiG,CAAaF,QAI9C/B,EArIA,SAAC9G,GAAgB,IAAD,EAQzBM,qBAAWV,GANbqD,EAF2B,EAE3BA,OACAD,EAH2B,EAG3BA,SACAQ,EAJ2B,EAI3BA,UACAD,EAL2B,EAK3BA,aACAyF,EAN2B,EAM3BA,WACAvF,EAP2B,EAO3BA,cAGEwF,EAAU,GAVe,EAWCrI,mBAAS,IAXV,mBAWtBR,EAXsB,KAWb8I,EAXa,KAazBC,EAAkB,GAClBC,EAAoB,GAExBxF,qBAAU,WACRwF,EAAQC,SAAQ,SAAC5H,GACf6H,OAAOC,IAAIC,gBAAgB/H,SAI/B,IAAMgI,EAAa,SAACrI,GAClBA,EAAEa,iBAEF,IAAImC,EAAe,IAAIsF,SAQvB,GAPAtF,EAAauF,OAAO,SAAU1G,GAC9BmB,EAAauF,OAAO,UAAWvJ,GAC/BgE,EAAauF,OAAO,WAAYhC,gBAGhCvD,EAAauF,OAAO,KAAMhC,gBAEtBwB,EAASvD,OAAS,EACpB,IAAK,IAAIgE,EAAI,EAAGA,EAAIZ,EAAWG,SAASvD,OAAQgE,IAC9CxF,EAAauF,OAAO,kBAAmBX,EAAWG,SAASS,IAI/DR,EAAU,GACVD,EAAW,GACX5F,GAAa,GACbE,EAAc,MAYdzD,EAAM4I,aAAaxE,IAsDrB,OACE,qCACE,gCACE,iDACA,qBACE3C,IAAI,+FACJC,IAAI,KAEN,2CAAcsB,KACd,wBAAQhB,QAAS,kBAAMuB,GAAa,IAApC,yBACA,cAAC,GAAD,OAEDC,GAAa,cAAC,EAAD,CAAOT,KAAMqG,EAAb,SA5Cd,qCACE,uBAAMtD,MAAO,CAAE+D,aAAc,QAAUxB,SAAUoB,EAAjD,UAOE,0BACEK,KAAM,EACNC,KAAM,GACN1I,KAAK,UACLE,MAAOnB,EACP2B,SAAU,SAACX,GAAD,OAAO8H,EAAW9H,EAAEE,OAAOC,UAEvC,8BACE,uBACEK,KAAK,OACLJ,GAAG,SACHH,KAAK,WACL2I,OAAO,YACPC,UAAQ,EACRlI,SAAU,SAACX,GAAD,OAzCtB,SAAgBA,GACdqB,QAAQC,IAAItB,EAAEE,OAAO4I,QAErBf,EAAW/C,MAAM+D,KAAK/I,EAAEE,OAAO4I,QACtBxE,KAAI,SAAC0E,GACZ,IAAIC,EAAa,GACjBA,EAAWC,KAAKF,GAChB,IAAMG,EAAO,IAAIC,KAAKH,GAEtBpB,EAAUK,OAAOC,IAAIkB,gBAAgBF,GAErCnB,EAAQkB,KAAKrB,MAGfxF,EAAc,CAAE2F,QAASA,EAASD,SAAUA,IA2BjBuB,CAAOtJ,QAG5B,uBAAOQ,KAAK,cAEd,8BAAMoH,GAAc,cAAC,GAAD,CAAa/C,OAAQ+C,EAAWI,uBC9GtDuB,GAAU,SAACC,EAAiBpJ,GAChC,IAAK,IAAIoI,EAAI,EAAGA,EAAIgB,EAAWC,MAAMjF,OAAQgE,IAC3C,GAAIgB,EAAWC,MAAMjB,GAAGpI,IAAMA,EAG5B,OAFAiB,QAAQC,IAAI,2BACZD,QAAQC,IAAIkI,EAAWC,MAAMjB,IACtBgB,EAAWC,MAAMjB,ICF1B3G,GAAS,GA4Bb,IAWe6D,gBAXS,SAACyB,GAEvB,OADA9F,QAAQC,IAAI,4BACL,CACLoI,KAAMH,GAAQpC,EAAMqC,WAAY3H,IAChC8H,SAAsBxC,EAAMqC,WAC5BzK,MAAOoI,EAAMqC,WAAWzK,SAMb2G,EAtCf,SAAgB9G,GAAa,IACnBwB,EAAOwJ,cAAPxJ,GAOR,OANAyB,GAASzB,EACTiB,QAAQC,IAAIlB,GACZiB,QAAQC,IAAI,2BACZD,QAAQC,IAAIO,IACZR,QAAQC,IAAI1C,EAAM8K,MAEd9K,EAAM8K,KAEN,gCACE,6BAAKtJ,IACL,cAAC,IAAD,CAAM0B,GAAG,SAASjD,UAAU,MAA5B,kBAIA,gCACE,4CAAeD,EAAM8K,KAAKlD,YAC1B,uCAAU5H,EAAM8K,KAAKG,OACrB,0CAAajL,EAAM8K,KAAKI,gBAKzB,6CC5BHC,GAAa,SAAChJ,GAClBC,IACGqC,IADH,UACUP,EADV,iBAEG3B,MAAK,SAACC,GACLC,QAAQC,IAAI,2BACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,MAEVG,OAAM,SAACxC,GACNsC,QAAQC,IAAI,oBACZD,QAAQC,IAAIvC,GACZgC,EAAGhC,OCZI+E,GAAY,YACZkG,GAAc,c,oBCuBZC,OAnBf,YAAmC,IAAfR,EAAc,EAAdA,MAClB,OACE,qBAAK5K,UAAWC,KAAOoL,KAAvB,SACGT,EAAMnF,KAAI,SAACoF,GACV,IAAMS,EAAcT,EAAKV,IACrBU,EAAKV,IACL,0IAEJ,OACE,sBAAmBnK,UAAS,UAAKC,KAAOsL,SAAZ,iBAA5B,UACE,qBAAK/J,IAAK8J,IACV,cAAC,IAAD,CAAMrI,GAAE,kBAAa4H,EAAKtJ,QAFlBsJ,EAAKtJ,UCUzB,IAiBesF,gBAjBS,SAACyB,GACvB,IAGuBqC,EACvB,MAAO,CACLC,MAAgBtC,EAAMqC,WACtBzK,OAHqByK,EAGArC,EAAMqC,WAHiBA,EAAWzK,WAOhC,SAAC4G,GAC1B,MAAO,CACL0E,aAAc,kBAAM1E,ECjCH,uCAAM,WAAOA,GAAP,SAAAvC,EAAA,sDACzB2G,IAAW,SAACtI,EAAYC,GACtBL,QAAQC,IAAI,6BAEVqE,EADElE,EACO,CAAEjB,KAAMsD,GAAW/E,MAAO0C,EAAIzC,SAE9B,CAAEwB,KAAMwJ,GAAaP,MAAO/H,EAAOC,UANvB,2CAAN,2DDqCN+D,EApCf,SAAiB9G,GACf4D,qBAAU,WACR5D,EAAMyL,iBACL,IAHwB,IAKnBzI,EAAa1C,qBAAWV,GAAxBoD,SAER,OACE,qCACE,gCACE,4CACA,2CAAcA,EAAd,UAGF,cAAC,GAAD,eAAchD,EAAM6K,cEIXa,GApBU,WACvB,OACE,qCACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,GAAD,MAOF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,cAAcvI,SAAU,cAAC,GAAD,UCiF3BwI,GA9FE,WACf,IAAMC,EAAUC,cADK,EAEOnL,mBAAS,CACnCoC,SAAU,GACVjC,MAAO,GACPC,SAAU,KALS,mBAEdC,EAFc,KAENC,EAFM,KAObV,EAAoBF,qBAAWV,GAA/BY,gBAPa,EAQiBI,mBAAS,IAR1B,mBAQdoL,EARc,KAQDC,EARC,KAUf9K,EAAe,SAACC,GACpB,IAAMC,EAAOD,EAAEE,OAAOD,KAChBE,EAAQH,EAAEE,OAAOC,MACvBL,EAAU,2BAAKD,GAAN,kBAAeI,EAAOE,MA2BjC,OACE,qCACE,qBACEC,GAAG,OACHC,IAAI,kCACJC,IAAI,mBAEN,oBAAIzB,UAAU,cAAd,qBACA,0BAASA,UAAU,OAAnB,UACG+L,GAAe,cAAC,EAAD,CAAO5L,QAAS4L,IAChC,iCACE,sBAAK/L,UAAU,eAAf,UACE,uBAAO0B,QAAQ,WAAf,yBACA,uBACEC,KAAK,WACLJ,GAAG,WACHH,KAAK,WACLQ,YAAY,oBACZN,MAAON,EAAO+B,SACdjB,SAAUZ,OAGd,sBAAKlB,UAAU,eAAf,UACE,uBAAO0B,QAAQ,QAAf,sBACA,uBACEC,KAAK,QACLJ,GAAG,QACHH,KAAK,QACLQ,YAAY,0BACZN,MAAON,EAAOF,MACdgB,SAAUZ,OAGd,sBAAKlB,UAAU,eAAf,UACE,uBAAO0B,QAAQ,WAAf,yBACA,uBACEC,KAAK,WACLJ,GAAG,WACHH,KAAK,WACLQ,YAAY,oBACZN,MAAON,EAAOD,SACde,SAAUZ,OAId,wBAAQS,KAAK,SAASI,QAtEP,SAACZ,IACtBA,EAAEa,iBACEhB,EAAOF,OAASE,EAAOD,UAAYC,EAAO+B,UvB8BjC,SAACd,EAAcC,GAC9BC,IACGC,KADH,UACWvC,EADX,gBACkCoC,GAC/BK,MAAK,SAACC,GACLC,QAAQC,IAAI,0BACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,MAEVG,OAAM,SAACxC,GACNsC,QAAQC,IAAI,uBACZD,QAAQC,IAAIvC,GACZgC,EAAGhC,MuBnCH+L,CALiB,CACflJ,SAAU/B,EAAO+B,SACjBjC,MAAOE,EAAOF,MACdC,SAAUC,EAAOD,WAEA,SAAC6B,EAAYC,GAC1BD,GACFJ,QAAQC,IAAIG,GACZoJ,EAAepJ,EAAIzC,WAEnB6L,EAAe,IACfzL,GAAgB,GAChBiC,QAAQC,IAAI,+BACZD,QAAQC,IAAII,EAAOC,KAAK3C,SAExB0L,EAAQxB,KAAK,SAIjB2B,EAAe,qCAgDX,gC,oBC/CKE,OAvCf,WAAmB,IAAD,EACsBvL,mBAAS,IAD/B,mBACIwL,GADJ,aAGuC9L,qBACrDV,GADMa,EAHQ,EAGRA,YAAaC,EAHL,EAGKA,mBAAoBC,EAHzB,EAGyBA,UAqBzC,OACE,sBAAKV,UAAS,UAAKC,KAAOmM,OAAZ,uBAAd,UACE,qBAAKpM,UAAWC,KAAOoM,aAAvB,SACE,cAAC,IAAD,CAAMpJ,GAAG,IAAT,oBAEF,qBAAKjD,UAAWC,KAAOoM,aAAvB,SACE,cAAC,IAAD,CAAMpJ,GAAG,SAAT,qBAEF,qBAAKjD,UAAWC,KAAOoM,aAAvB,SACE,wBAAQtK,QA1Bd,WxBMa,IAACG,IwBLL,SAACU,EAAYC,GACdD,GACFJ,QAAQC,IAAIG,GACZuJ,EAAevJ,EAAIzC,WAEnBgM,EAAe,IAGf3J,QAAQC,IAAI,yBACZD,QAAQC,IAAII,GACZrC,EAAY,IACZE,EAAU,IACVD,GAAmB,KxBNzB0B,IACGqC,IADH,UACU3E,EADV,iBAEGyC,MAAK,SAACC,GACLC,QAAQC,IAAI,0BACZD,QAAQC,IAAIF,GACZL,EAAG,KAAMK,MAEVG,OAAM,SAACxC,GACNsC,QAAQC,IAAI,qBACZD,QAAQC,IAAIvC,GACZgC,EAAGhC,OwBSD,0BC2BOoM,GAzDC,WAAO,IAAD,EAOhBjM,qBAAWV,GAJbY,GAHkB,EAElBD,aAFkB,EAGlBC,iBACAC,EAJkB,EAIlBA,YACAC,EALkB,EAKlBA,mBACAC,EANkB,EAMlBA,UAiCF,OA7BAiD,qBAAU,WACRlD,GAAmB,GACnBF,GAAgB,GAChBC,EAAY,UACZE,EAAU,eACT,IAyBD,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiL,KAAK,YAAZ,SACE,cAAC,GAAD,MAKF,eAAC,EAAD,WACE,cAAC,GAAD,IACA,cAACY,GAAD,aCxBKC,OA9Bf,WAAgB,IAAD,EACiC7L,oBAAS,GAD1C,mBACNwC,EADM,KACW1C,EADX,OAEeE,mBAAS,IAFxB,mBAENqC,EAFM,KAEEtC,EAFF,OAGmBC,mBAAS,IAH5B,mBAGNoC,EAHM,KAGIvC,EAHJ,OAI2BG,oBAAS,GAJpC,mBAINL,EAJM,KAIQC,EAJR,OAKqBI,oBAAS,GAL9B,mBAKN4C,EALM,KAKKD,EALL,OAMuB3C,oBAAS,GANhC,mBAMNoI,EANM,KAMMvF,EANN,KAQb,OACE,cAAC7D,EAAa8M,SAAd,CACEnL,MAAO,CACL0B,SACAtC,YACAyC,kBACAJ,WACAvC,cACAC,qBACAH,eACAC,kBACAgD,YACAD,eACAyF,aACAvF,iBAbJ,SAgBE,cAAC,GAAD,O,oCCnBAkJ,GAAgB,CACpBjI,MAAc,GACdvE,MAAO,MAmGMyM,OAhGf,WAA0E,IAArDnE,EAAoD,uDAAxCkE,GAAeE,EAAyB,uCACvE,OAAQA,EAAOjL,MACb,KAAKyD,EACH5C,QAAQC,IAAI,oBACZD,QAAQC,IAAImK,EAAO/D,cAEnB,IAAMgE,EAAS,2BACVrE,GADU,IAEb/D,MAAW,CAACmI,EAAO/D,cAAd,oBAAgCL,EAAU/D,UAGjD,OAAOoI,EAET,KAAK7H,EACHxC,QAAQC,IAAI,mBACZD,QAAQC,IAAImK,EAAOnI,OAEnB,IAAMoI,EAAS,2BAAQrE,GAAR,IAAmB/D,MAAOmI,EAAOnI,QAEhD,OAAOoI,EAET,KAAK5H,EAIH,OAHAzC,QAAQC,IAAI,kBACZD,QAAQC,IAAImK,EAAO1M,OAEZ,2BAAKsI,GAAZ,IAAuBtI,MAAO0M,EAAO1M,QAGvC,KAAKiF,EACH3C,QAAQC,IAAI,kBAIZ,IAFA,IAAIqK,EAAuB,GAElBnD,EAAI,EAAGA,EAAInB,EAAU/D,MAAMkB,OAAQgE,IAC1C,GAAInB,EAAU/D,MAAMkF,GAAGpI,IAAMqL,EAAO1F,UAAUnC,OAAQ,CAOlD+H,EANGF,EAAO1F,UAAUO,OAMP,uBACRe,EAAU/D,MAAMkF,GAAG5B,OACnB,CACD,CACExG,GAAIqL,EAAO1F,UAAU3F,GACrByB,OAAQ4J,EAAO1F,UAAUlE,OACzB+B,OAAQ6H,EAAO1F,UAAUnC,OACzBhC,SAAU6J,EAAO1F,UAAUnE,YAZjB8E,IAAEC,OAChBU,EAAU/D,MAAMkF,GAAG5B,OACnB,SAACgF,GAAD,OAAOA,EAAE/J,QAAU4J,EAAO1F,UAAUlE,UAexC,MAIJ,IAAMgK,EAAgBxE,EAAU/D,MAAMgB,KAAI,SAACrD,GACzC,OAAIA,EAAKb,IAAMqL,EAAO1F,UAAUnC,OACvB,2BACF3C,GADL,IAEE2F,MAAO+E,IAGJ,eAAK1K,MAGR6K,EAAW,2BACZzE,GADY,IAEf/D,MAAOuI,IAGT,OAAOC,EAGT,KAAK/H,EACH1C,QAAQC,IAAI,oBAEZ,IAAMyK,EAAiB1E,EAAU/D,MAAMgB,KAAI,SAACrD,GAC1C,GAAIA,EAAKb,IAAMqL,EAAO/H,YAAYE,OAAQ,CACxC,IAAMoI,EAAe,uBAAO/K,EAAK8F,aAAZ,CAAyB0E,EAAO/H,cAErD,OAAO,2BAAKzC,GAAZ,IAAkB8F,YAAaiF,IAE/B,OAAO/K,KAIX,OAAO,2BAAKoG,GAAZ,IAAuB/D,MAAOyI,IAGhC,QACE,OAAO1E,ICrGPkE,GAAgB,CACpB9B,MAAc,GACd1K,MAAO,MAkBMkN,OAff,WAA4E,IAAvDzC,EAAsD,uDAAzC+B,GAAeE,EAA0B,uCACzE,OAAQA,EAAOjL,MACb,KAAKsD,GACH,OAAO,2BAAK0F,GAAZ,IAAwBzK,MAAO0M,EAAO1M,QAExC,KAAKiL,GACH,IAAMkC,EAAU,2BAAQ1C,GAAR,IAAoBC,MAAOgC,EAAOhC,QAElD,OAAOyC,EAET,QACE,OAAO1C,ICdE2C,GALKC,aAAgB,CAClC/E,UAAWmE,GACXhC,WAAYyC,KCDRI,GAASC,0BAIAC,GAFDC,aAAYL,GAAaM,aAAgBC,KAAOL,KCA9DM,IAASC,OACP,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEF9J,SAASoK,eAAe,W","file":"static/js/main.7c1c970a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"ImageSlider_slider__1jn3h\",\"img_container\":\"ImageSlider_img_container__3eu7U\",\"image\":\"ImageSlider_image__dIU84\",\"right_arrow\":\"ImageSlider_right_arrow__CMivW\",\"left_arrow\":\"ImageSlider_left_arrow__23GNO\",\"slide\":\"ImageSlider_slide__Rt82y\",\"active\":\"ImageSlider_active__yTgON\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"Navbar_navBar__27Cf3\",\"navBar__item\":\"Navbar_navBar__item__38gja\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"UserGrid_grid__qRelS\",\"userTile\":\"UserGrid_userTile__ao-qQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__T_9Pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__2PoK9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__BjDkW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3hqZB\"};","import { createContext, Dispatch, SetStateAction } from \"react\";\n\nexport interface ILoginContext {\n  userId: string;\n  setUserId: Dispatch<SetStateAction<string>>;\n  username: string;\n  setUsername: Dispatch<SetStateAction<string>>;\n  isAuthenticated: boolean;\n  setIsAuthenticated: Dispatch<SetStateAction<boolean>>;\n  signUpStatus: boolean;\n  setSignUpStatus: Dispatch<SetStateAction<boolean>>;\n  showModal: boolean;\n  setShowModal: Dispatch<SetStateAction<boolean>>;\n  modalProps: any;\n  setModalProps: Dispatch<SetStateAction<any>>;\n}\n\nexport const LoginContext = createContext({} as ILoginContext);\n","// const API_URL = \"http://671cdc1794ca.ngrok.io/api\";\nconst API_URL = \"http://localhost:8000/api\";\n// J's server ran locally\n// const API_URL = \"https://idsp.link/api\";\n\nexport default API_URL;\n","import React from \"react\";\nimport styles from \"./Error.module.scss\";\n\nconst Error = (props: any) => {\n  return (\n    <div>\n      <h2 className={styles.error}>{props.message}</h2>\n    </div>\n  );\n};\n\nexport default Error;\n","import React, { useContext, useState } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { Link } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { login } from \"../../utils/api/auth.api\";\nimport Error from \"../../components/Error/Error\";\nimport style from \"./Login.module.scss\";\n\nfunction Login() {\n  const {\n    signUpStatus,\n    setSignUpStatus,\n    setUsername,\n    setIsAuthenticated,\n    setUserId,\n  } = useContext(LoginContext);\n\n  const [loginError, setLoginError] = useState(\"\");\n\n  const [person, setPerson] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setPerson({ ...person, [name]: value });\n  };\n\n  const handleLogin = (e: any) => {\n    e.preventDefault();\n\n    if (person.email && person.password) {\n      const user_obj = {\n        email: person.email,\n        password: person.password,\n      };\n      login(user_obj, (err: Error, result: any) => {\n        if (err) {\n          console.log(err);\n          setLoginError(err.message);\n        } else {\n          setLoginError(\"\");\n\n          setIsAuthenticated(true);\n          setSignUpStatus(false);\n\n          // Can I get username back here?\n          console.log(\"login result message\");\n          console.log(result);\n          setUsername(result.data.username);\n          setUserId(result.data.userId);\n        }\n      });\n    } else {\n      setLoginError(\"You are missing some credentials\");\n    }\n  };\n\n  return (\n    <div>\n      <img\n        id=\"logo\"\n        src=\"https://i.imgur.com/0ldmkwI.png\"\n        alt=\"TownSquareLogo\"\n      ></img>\n      <h1 className=\"townSquareTitle\">TownSquare</h1>\n      <h2>Login</h2>\n\n      <h3>For default user, login with:</h3>\n      <h4>email: bob@bob.com</h4>\n      <h4>password: bob@bob.com</h4>\n\n      {signUpStatus && <h2>Sign up success</h2>}\n      {loginError && <Error message={loginError} />}\n      {/* <h4>bob@bob.com</h4> */}\n      <div>\n        <label htmlFor=\"uname\">\n          <b>email</b>\n        </label>\n        <input\n          type=\"text\"\n          placeholder=\"Enter email\"\n          name=\"email\"\n          required\n          value={person.email}\n          onChange={handleChange}\n        />\n        <br></br>\n        <label htmlFor=\"psw\">\n          <b>Password</b>\n        </label>\n        <input\n          type=\"password\"\n          placeholder=\"Enter Password\"\n          name=\"password\"\n          required\n          value={person.password}\n          onChange={handleChange}\n        />\n        <br></br>\n        <button onClick={handleLogin}>Login</button>\n      </div>\n      <div>\n        <div>\n          <p>Don't have an account?</p>\n          <br></br>\n          <div className=\"register\">\n            <button>\n              <Link to=\"/register\">Register</Link>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","// import { posts } from \"../../FakeDb/posts\";\nimport axios from \"axios\";\nimport SERVER_URL from \"../../constants/mock_server_url\";\nimport API_URL from \"../../constants/api_url\";\n\nconst authenticate = (cb: Function) => {\n  axios\n    .get(`${API_URL}/user/authenticate`)\n    .then((response) => {\n      console.log(\"authenticate response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"authenticate error\");\n      cb(error);\n    });\n};\n\nconst logout = (cb: Function) => {\n  axios\n    .get(`${API_URL}/user/logout`)\n    .then((response) => {\n      console.log(\"post register response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"post logout error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nconst login = (user_obj: {}, cb: Function) => {\n  axios\n    .post(`${API_URL}/user/login`, user_obj, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      // withCredentials: true,\n    })\n    .then((response) => {\n      console.log(\"post login response receive\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"post login error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nconst register = (user_obj: {}, cb: Function) => {\n  axios\n    .post(`${API_URL}/user/signUp`, user_obj)\n    .then((response) => {\n      console.log(\"post register response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"post register error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nexport { register, login, logout, authenticate };\n","import React, { FC, useContext } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport Login from \"../../pages/login/LoginPg\";\n\nconst LoggedInRoutesKeeper = (props: any) => {\n  const { isAuthenticated } = useContext(LoginContext);\n\n  return <>{isAuthenticated ? props.children : <Login />}</>;\n\n  // return props.children;\n};\n\nexport default LoggedInRoutesKeeper;\n","import React, { useContext, useEffect } from \"react\";\nimport styles from \"./Overlay.module.scss\";\nimport { LoginContext } from \"../store/context/LoginContext\";\n\nfunction Overlay() {\n  const { showModal, setShowModal, setModalProps } = useContext(LoginContext);\n  return (\n    <div\n      className={styles.overlay}\n      onClick={() => {\n        setModalProps(null);\n        setShowModal(false);\n      }}\n    ></div>\n  );\n}\n\nexport default Overlay;\n","import React, { useContext, useEffect } from \"react\";\nimport styles from \"./Modal.module.scss\";\nimport Overlay from \"./Overlay\";\nimport { LoginContext } from \"../store/context/LoginContext\";\n\nfunction Modal(props: any) {\n  const { showModal, setShowModal } = useContext(LoginContext);\n\n  useEffect(() => {\n    document.body.classList.add(\"disable_scroll\");\n    return () => {\n      document.body.classList.remove(\"disable_scroll\");\n    };\n  }, []);\n\n  return (\n    <>\n      <div className={`${styles.Modal}`}>{props.children}</div>;\n      <Overlay />\n    </>\n  );\n}\n\nexport default Modal;\n","let SERVER_URL = \"\";\n\nif (process.env.NODE_ENV != \"production\") {\n  SERVER_URL = \"http://localhost:8080\";\n} else {\n  SERVER_URL = `https://comp2350-week6-sean-luo.herokuapp.com`;\n}\nexport default SERVER_URL;\n","// import { posts } from \"../../FakeDb/posts\";\nimport axios from \"axios\";\nimport SERVER_URL from \"../../constants/mock_server_url\";\nimport { TComment } from \"../../interfaces/IPost\";\n\nconst postCreate_old = (post_obj: {}, cb: Function) => {\n  axios\n    .post(`${SERVER_URL}/ts/create_post`, {\n      post_obj,\n    })\n    .then((response) => {\n      console.log(\"postCreate response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch((err) => {\n      console.log(\"postCreate error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nconst postCreate = (bodyFormData: any, cb: Function) => {\n  axios({\n    method: \"POST\",\n    url: `${SERVER_URL}/ts/create_post`,\n    // url: `http://474b3a2f0df2.ngrok.io/api/post`,\n    data: bodyFormData,\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  })\n    .then(function (response) {\n      console.log(\"postCreate response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch(function (err) {\n      console.log(\"postCreate error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nconst fetchFeed = async (cb: Function) => {\n  try {\n    const posts = await axios.get(`${SERVER_URL}/ts/posts`);\n    cb(null, posts.data);\n  } catch (error) {\n    cb(error);\n  }\n};\n\nconst likePost = (like_obj: any, cb: Function) => {\n  axios\n    .post(`${SERVER_URL}/ts/like_post`, like_obj)\n    .then((response) => {\n      console.log(\"likePost response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch((err) => {\n      console.log(\"likePost error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nconst addComment = (comment_obj: TComment, cb: Function) => {\n  console.log(\"comment_objcomment_objcomment_objcomment_obj\");\n\n  console.log(comment_obj);\n\n  axios\n    .post(`${SERVER_URL}/ts/add_comment`, {\n      userId: comment_obj.userId,\n      id: comment_obj.id,\n      username: comment_obj.username,\n      createdAt: comment_obj.createdAt,\n      message: comment_obj.message,\n      postId: comment_obj.postId,\n    })\n    .then((response) => {\n      console.log(\"add_comment response\");\n      console.log(response);\n      cb(null, response.data);\n    })\n    .catch((err) => {\n      console.log(\"add_comment error\");\n      console.log(err);\n      cb(err);\n    });\n};\n\nexport { fetchFeed, likePost, addComment, postCreate };\n","import { IPost, TComment, TLikes } from \"../../../interfaces/IPost\";\n\n// export const POST_ADD = \"POST_ADD\";\nexport const FEED_FETCH = \"FEED_FETCH\";\nexport const API_ERROR = \"API_ERROR\";\nexport const COMMENT_ADD = \"COMMENT_ADD\";\nexport const POST_LIKE = \"POST_LIKE\";\nexport const POST_CREATE = \"POST_CREATE\";\n\nexport interface FeedFetchAction {\n  type: typeof FEED_FETCH;\n  posts: IPost[];\n}\n\nexport interface ErrorAction {\n  type: typeof API_ERROR;\n  error: string;\n}\n\nexport interface CommentAddAction {\n  type: typeof COMMENT_ADD;\n  comment_obj: TComment;\n}\n\nexport interface LikeAction {\n  type: typeof POST_LIKE;\n  post_like: any;\n}\n\nexport interface postCreateAction {\n  type: typeof POST_CREATE;\n  post_obj_res: any;\n}\n\nexport type FeedAction =\n  | FeedFetchAction\n  | ErrorAction\n  | CommentAddAction\n  | LikeAction\n  | postCreateAction;\n\nexport type FeedActionTypes = FeedAction;\n","import React, { useState } from \"react\";\nimport { TLikes } from \"../../interfaces/IPost\";\n\nconst PostLike = (props: any) => {\n  const [show, setShow] = useState(false);\n  function likeList() {\n    console.log(\"like like like\");\n    console.log(props.like_arr);\n\n    return props.like_arr.map((like: any) => {\n      console.log(like);\n\n      return <li key={like.id}>{like.username}</li>;\n    });\n  }\n\n  return (\n    <div>\n      {show && <ul>{likeList()}</ul>}\n      <h4 onClick={() => setShow(!show)}>{props.like_arr.length}</h4>\n    </div>\n  );\n};\n\nexport default PostLike;\n","import React, { useState } from \"react\";\nimport { TComment } from \"../../interfaces/IPost\";\n\nconst PostComment: React.FC<TComment> = (props) => {\n  return (\n    <>\n      <div>\n        <div className=\"flex--space-between\">\n          <h3>{props.username}</h3>\n          <h4>{props.createdAt}</h4>\n        </div>\n        <h4 style={{ paddingLeft: \"20px\" }}>{props.message}</h4>\n      </div>\n    </>\n  );\n};\n\nexport default PostComment;\n","import React, { useState } from \"react\";\nimport { FaArrowAltCircleRight, FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport { IoIosArrowBack, IoIosArrowForward } from \"react-icons/io\";\n\nimport styles from \"./ImageSlider.module.scss\";\nconst ImageSlider = ({ slides }: any) => {\n  const [current, setCurrent] = useState(0);\n\n  const nextSlide = () => {\n    setCurrent(current === length - 1 ? 0 : current + 1);\n  };\n\n  const prevSlide = () => {\n    setCurrent(current === 0 ? length - 1 : current - 1);\n  };\n\n  if (!slides || !Array.isArray(slides) || slides.length <= 0) {\n    return null;\n  }\n\n  const length = slides.length;\n\n  return (\n    <section className={styles.slider}>\n      <IoIosArrowBack className={styles.left_arrow} onClick={prevSlide} />\n\n      <div className={styles.img_container}>\n        {slides.map((slide: any, index: number) => {\n          return (\n            <div\n              className={\n                index === current\n                  ? `${styles.slide} ${styles.active}`\n                  : `${styles.slide}`\n              }\n              key={index}\n            >\n              {index === current && (\n                <img src={slide} alt=\"travel image\" className={styles.image} />\n              )}\n            </div>\n          );\n        })}\n      </div>\n      <IoIosArrowForward className={styles.right_arrow} onClick={nextSlide} />\n    </section>\n  );\n};\n\nexport default ImageSlider;\n","import React, { useState, useContext } from \"react\";\nimport { TComment } from \"../../interfaces/IPost\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbUpAltOutlinedIcon from \"@material-ui/icons/ThumbUpAltOutlined\";\nimport PostLike from \"./PostLike\";\nimport PostComment from \"./PostComment\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport _ from \"lodash\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { connect } from \"react-redux\";\nimport { doPostComment, doLikePost } from \"../../store/redux/actions/feed_act\";\nimport styles from \"./Post.module.scss\";\nimport ImageSlider from \"../../UI/ImageSlider\";\n\nconst Post = (props: any) => {\n  const { username, userId } = useContext(LoginContext);\n\n  const [comment, setComment] = useState(\"\");\n  const [commentsVisible, setCommentsVisible] = useState(false);\n\n  const commentSubmit = (e: any) => {\n    e.preventDefault();\n\n    const comment_obj: TComment = {\n      userId: userId,\n      username: username,\n      createdAt: new Date(),\n      message: comment,\n      id: uuidv4(),\n      postId: props.id,\n    };\n\n    props.onPostComment(comment_obj);\n  };\n\n  const handleLike = (isLike: boolean) => {\n    console.log(\"aaaaaaaaaaaaaaaaaaaaaaaa\");\n    const like_obj = {\n      id: uuidv4(),\n      userId: userId,\n      username: username,\n      postId: props.id,\n      isLike: isLike,\n    };\n\n    props.onLikeComment(like_obj);\n  };\n\n  function checkLiked(): boolean {\n    return _.filter(props.likes, (o) => o.userId == userId).length != 0;\n  }\n\n  return (\n    <div key={props.postId} className={styles.post}>\n      <div className=\"flex--space-between\">\n        <h4>{props.userName}</h4>\n        <h4>{props.createdAt}</h4>\n      </div>\n      {/* <h2>{props.title}</h2> */}\n      <h5 style={{ paddingLeft: \"20px\" }}>{props.message}</h5>\n\n      <ImageSlider slides={props.img_urls} />\n      <div className=\"flex--space-between\">\n        <div className=\"flex\">\n          {checkLiked() ? (\n            <ThumbUpIcon\n              onClick={() => {\n                handleLike(false);\n              }}\n            />\n          ) : (\n            <ThumbUpAltOutlinedIcon\n              onClick={() => {\n                handleLike(true);\n              }}\n            />\n          )}\n          <PostLike like_arr={props.likes} />\n        </div>\n        <div>\n          <h4\n            style={{ textDecoration: \"underline\" }}\n            onClick={() => setCommentsVisible(!commentsVisible)}\n          >\n            See Comments\n          </h4>\n        </div>\n      </div>\n\n      {commentsVisible && (\n        <div>\n          <div>\n            {props.commentList.map((c: TComment) => {\n              return <PostComment key={c.id} {...c} />;\n            })}\n          </div>\n          <form onSubmit={commentSubmit}>\n            <input\n              type=\"text\"\n              id=\"comment\"\n              name=\"comment\"\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n            />\n            <button type=\"submit\">add Comment</button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onPostComment: (comment_obj: TComment) =>\n      dispatch(doPostComment(comment_obj)),\n    onLikeComment: (like_obj: any) => dispatch(doLikePost(like_obj)),\n  };\n};\n\n// export default Post;\nexport default connect(null, mapDispatchToProps)(Post);\n","import { Dispatch } from \"redux\";\nimport { IPost, TLikes } from \"../../../interfaces/IPost\";\nimport {\n  fetchFeed,\n  addComment,\n  likePost,\n  postCreate,\n} from \"../../../utils/api/posts.api\";\nimport { TComment } from \"../../../interfaces/IPost\";\n\nimport {\n  FEED_FETCH,\n  API_ERROR,\n  COMMENT_ADD,\n  POST_LIKE,\n  POST_CREATE,\n} from \"../constants/feedActionTypes\";\n\nconst doPostCreate = (post_obj: any) => async (dispatch: Dispatch) => {\n  postCreate(post_obj, (err: Error, result: IPost[]) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: POST_CREATE, post_obj_res: result });\n    }\n  });\n};\n\nconst doFetchFeed = () => async (dispatch: Dispatch) => {\n  fetchFeed((err: Error, result: IPost[]) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      result.reverse();\n      dispatch({ type: FEED_FETCH, posts: result });\n    }\n  });\n};\n\nconst doFetchFeedError = (error: string) => ({\n  type: API_ERROR,\n  error,\n});\n\nconst doPostComment = (comment_obj: TComment) => async (dispatch: Dispatch) => {\n  addComment(comment_obj, (err: Error, result: IPost[]) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: COMMENT_ADD, comment_obj: result });\n    }\n  });\n};\n\nconst doLikePost = (like_obj: any) => async (dispatch: Dispatch) => {\n  console.log(\"sssssssssssssssssssssssss\");\n  likePost(like_obj, (err: Error, result: any) => {\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: POST_LIKE, post_like: result });\n    }\n  });\n};\n\nexport {\n  doFetchFeed,\n  doFetchFeedError,\n  doPostComment,\n  doLikePost,\n  doPostCreate,\n};\n","import React, { useEffect, useContext } from \"react\";\nimport { connect } from \"react-redux\";\nimport { doFetchFeed } from \"../../store/redux/actions/feed_act\";\nimport { getFeed, getFeedError } from \"../../store/redux/selector/Feed\";\nimport Error from \"../Error/Error\";\nimport Post from \"../../components/Post/Post\";\n\nconst Feed = (props: any) => {\n  useEffect(() => {\n    props.onFetchFeed();\n  }, []);\n\n  return (\n    <div>\n      {props.feed.error ? (\n        <Error message={props.feed.error} />\n      ) : props.feed.posts.length > 0 ? (\n        props.feed.posts.map((post: any) => {\n          return <Post key={post.id} {...post}></Post>;\n        })\n      ) : (\n        <div>\n          <h2>loading...</h2>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: any) => {\n  return {\n    feed: getFeed(state.feedState),\n    error: getFeedError(state.feedState),\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onFetchFeed: () => dispatch(doFetchFeed()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feed);\n","import { IPost } from \"../../../interfaces/IPost\";\nimport IFeed from \"../../../interfaces/redux\";\n\nconst getFeed = (feedState: IFeed) => {\n  return feedState;\n};\n\nconst getFeedError = (feedState: IFeed) => feedState.error;\n\nexport { getFeed, getFeedError };\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { connect } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Modal from \"../../UI/Modal\";\nimport Feed from \"../../components/Feed/Feed\";\nimport { IPost } from \"../../interfaces/IPost\";\nimport ImageSlider from \"../../UI/ImageSlider\";\nimport { doPostCreate } from \"../../store/redux/actions/feed_act\";\n\nconst FeedPg = (props: any) => {\n  const {\n    userId,\n    username,\n    showModal,\n    setShowModal,\n    modalProps,\n    setModalProps,\n  } = useContext(LoginContext);\n\n  let img_src = \"\";\n  const [message, setMessage] = useState(\"\");\n\n  let file_arr: any[] = [];\n  let src_arr: string[] = [];\n\n  useEffect(() => {\n    src_arr.forEach((src) => {\n      window.URL.revokeObjectURL(src);\n    });\n  });\n\n  const postSubmit = (e: any) => {\n    e.preventDefault();\n\n    let bodyFormData = new FormData();\n    bodyFormData.append(\"userId\", userId);\n    bodyFormData.append(\"message\", message);\n    bodyFormData.append(\"img_name\", uuidv4());\n\n    //should be done server side\n    bodyFormData.append(\"id\", uuidv4());\n\n    if (file_arr.length > 0) {\n      for (let i = 0; i < modalProps.file_arr.length; i++) {\n        bodyFormData.append(\"filesToUpload[]\", modalProps.file_arr[i]);\n      }\n    }\n\n    src_arr = [];\n    file_arr = [];\n    setShowModal(false);\n    setModalProps(null);\n\n    // const post_obj: IPost = {\n    //   id: uuidv4(),\n    //   userName: username,\n    //   createdAt: new Date(),\n    //   title: title,\n    //   message: message,\n    //   likes: [],\n    //   commentList: [],\n    // };\n\n    props.onPostCreate(bodyFormData);\n  };\n\n  function getImg(e: any) {\n    console.log(e.target.files);\n\n    file_arr = Array.from(e.target.files);\n    file_arr.map((img) => {\n      let binaryData = [];\n      binaryData.push(img);\n      const blob = new Blob(binaryData);\n\n      img_src = window.URL.createObjectURL(blob);\n\n      src_arr.push(img_src);\n    });\n\n    setModalProps({ src_arr: src_arr, file_arr: file_arr });\n  }\n\n  function modalContent() {\n    return (\n      <>\n        <form style={{ marginBottom: \"50px\" }} onSubmit={postSubmit}>\n          {/* <input\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        /> */}\n          <textarea\n            rows={4}\n            cols={50}\n            name=\"message\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n          <div>\n            <input\n              type=\"file\"\n              id=\"myFile\"\n              name=\"filename\"\n              accept=\"image/png\"\n              multiple\n              onChange={(e) => getImg(e)}\n            />\n          </div>\n          <input type=\"submit\" />\n        </form>\n        <div>{modalProps && <ImageSlider slides={modalProps.src_arr} />}</div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div>\n        <h1>Posts feed page</h1>\n        <img\n          src=\"https://idsp2.s3-us-west-1.amazonaws.com//images/1619930874561_07_optional_middle_name_1.png\"\n          alt=\"\"\n        />\n        <h2>Welcome: {username}</h2>\n        <button onClick={() => setShowModal(true)}>Upload Post</button>\n        <Feed />\n      </div>\n      {showModal && <Modal data={src_arr}>{modalContent()}</Modal>}\n    </>\n  );\n};\n\n// export default FeedPg;\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onPostCreate: (post_obj: IPost) => dispatch(doPostCreate(post_obj)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(FeedPg);\n","import React from \"react\";\nimport { IUser } from \"../../../interfaces/IUser\";\n\nconst getUser = (usersState: any, id: string | number) => {\n  for (let i = 0; i < usersState.users.length; i++) {\n    if (usersState.users[i].id == id) {\n      console.log(\"ddddddddddddddddddddddd\");\n      console.log(usersState.users[i]);\n      return usersState.users[i];\n    }\n  }\n\n  return;\n};\n\nconst getUserFeed = (usersState: IUser[]) => {\n  return usersState;\n};\n\nexport { getUser, getUserFeed };\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getUser, getUserFeed } from \"../../store/redux/selector/Users\";\nimport UserInfo from \"./UserInfo\";\n\nlet userId = \"\";\nfunction Person(props: any) {\n  const { id } = useParams() as any;\n  userId = id;\n  console.log(id);\n  console.log(\"fffffffffffffffffffffff\");\n  console.log(userId);\n  console.log(props.user);\n\n  if (props.user) {\n    return (\n      <div>\n        <h2>{id}</h2>\n        <Link to=\"/users\" className=\"btn\">\n          Back\n        </Link>\n\n        <div>\n          <h2>userName: {props.user.userName}</h2>\n          <h2>age: {props.user.age}</h2>\n          <h2>gender: {props.user.gender}</h2>\n        </div>\n      </div>\n    );\n  }\n  return <div>Loading</div>;\n}\n\nconst mapStateToProps = (state: any) => {\n  console.log(\"aaaaaaaaaaaaaaaaaaaaaaaa\");\n  return {\n    user: getUser(state.usersState, userId),\n    userFeed: getUserFeed(state.usersState),\n    error: state.usersState.error,\n  };\n};\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps)(Person);\n\n// export default Person;\n","import axios from \"axios\";\nimport SERVER_URL from \"../../constants/mock_server_url\";\n\nconst fetchUsers = (cb: Function) => {\n  axios\n    .get(`${SERVER_URL}/ts/allusers`)\n    .then((response) => {\n      console.log(\"get fetchUsers response\");\n      console.log(response);\n      cb(null, response);\n    })\n    .catch((error) => {\n      console.log(\"fetchUsers error\");\n      console.log(error);\n      cb(error);\n    });\n};\n\nexport { fetchUsers };\n","import { IUser } from \"../../../interfaces/IUser\";\n\nexport const API_ERROR = \"API_ERROR\";\nexport const USERS_FETCH = \"USERS_FETCH\";\n\nexport interface ErrorAction {\n  type: typeof API_ERROR;\n  error: string;\n}\n\nexport interface FeedFetchAction {\n  type: typeof USERS_FETCH;\n  users: IUser[];\n}\n\ntype UsersAction = ErrorAction | FeedFetchAction;\n\nexport type UsersActionTypes = UsersAction;\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { IUser } from \"../../interfaces/IUser\";\nimport styles from \"./UserGrid.module.scss\";\nimport { getFeed, getFeedError } from \"../../store/redux/selector/Feed\";\n\nfunction UserGrid({ users }: any) {\n  return (\n    <div className={styles.grid}>\n      {users.map((user: any) => {\n        const profile_pic = user.img\n          ? user.img\n          : \"https://upload.wikimedia.org/wikipedia/en/thumb/3/3b/SpongeBob_SquarePants_character.svg/1200px-SpongeBob_SquarePants_character.svg.png\";\n\n        return (\n          <div key={user.id} className={`${styles.userTile} flex--center`}>\n            <img src={profile_pic}></img>\n            <Link to={`/person/${user.id}`} />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default UserGrid;\n","import React, { useEffect, useContext } from \"react\";\nimport { connect } from \"react-redux\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { doFetchUsers } from \"../../store/redux/actions/users_act\";\nimport IUsers from \"../../interfaces/redux\";\nimport UserGrid from \"../../components/Users/UserGrid\";\n\nfunction UsersPg(props: any) {\n  useEffect(() => {\n    props.onFetchUsers();\n  }, []);\n\n  const { username } = useContext(LoginContext);\n\n  return (\n    <>\n      <div>\n        <h1>Users page</h1>\n        <h2>Welcome: {username} </h2>\n      </div>\n\n      <UserGrid {...props.users} />\n    </>\n  );\n}\n\nconst mapStateToProps = (state: any) => {\n  const getUsers = (usersState: IUsers) => {\n    return usersState;\n  };\n  const getUsersError = (usersState: IUsers) => usersState.error;\n  return {\n    users: getUsers(state.usersState),\n    error: getUsersError(state.usersState),\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onFetchUsers: () => dispatch(doFetchUsers()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersPg);\n","import React from \"react\";\nimport { Dispatch } from \"redux\";\nimport { fetchUsers } from \"../../../utils/api/users.api\";\nimport { IUser } from \"../../../interfaces/IUser\";\nimport { API_ERROR, USERS_FETCH } from \"../constants/usersActionTypes\";\n\nconst doFetchUsers = () => async (dispatch: Dispatch) => {\n  fetchUsers((err: Error, result: any) => {\n    console.log(\"sssssssssssssssssssssssss\");\n    if (err) {\n      dispatch({ type: API_ERROR, error: err.message });\n    } else {\n      dispatch({ type: USERS_FETCH, users: result.data });\n    }\n  });\n};\n\nexport { doFetchUsers };\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"../../pages/index/FeedPg\";\nimport Person from \"../../pages/person/Person\";\nimport Users from \"../../pages/users/UsersPg\";\nconst ReactRouterSetup = () => {\n  return (\n    <>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n\n      {/* \n        <Route path=\"/\" render={(props) => <Home {...props} />} />\n      */}\n\n      <Route path=\"/users\">\n        <Users />\n      </Route>\n\n      <Route path=\"/person/:id\" children={<Person />}></Route>\n    </>\n  );\n};\n\nexport default ReactRouterSetup;\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { register } from \"../../utils/api/auth.api\";\nimport Error from \"../../components/Error/Error\";\nimport style from \"./Register.module.scss\";\n\nconst Register = () => {\n  const history = useHistory();\n  const [person, setPerson] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const { setSignUpStatus } = useContext(LoginContext);\n  const [signUpError, setSignUpError] = useState(\"\");\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setPerson({ ...person, [name]: value });\n  };\n  const handleRegister = (e: any) => {\n    e.preventDefault();\n    if (person.email && person.password && person.username) {\n      const user_obj = {\n        username: person.username,\n        email: person.email,\n        password: person.password,\n      };\n      register(user_obj, (err: Error, result: any) => {\n        if (err) {\n          console.log(err);\n          setSignUpError(err.message);\n        } else {\n          setSignUpError(\"\");\n          setSignUpStatus(true);\n          console.log(\"registration result message\");\n          console.log(result.data.message);\n\n          history.push(\"/\");\n        }\n      });\n    } else {\n      setSignUpError(\"You are missing some credentials\");\n    }\n  };\n  return (\n    <>\n      <img\n        id=\"logo\"\n        src=\"https://i.imgur.com/0ldmkwI.png\"\n        alt=\"TownSquareLogo\"\n      ></img>\n      <h2 className=\"signUpTitle\">Sign Up</h2>\n      <article className=\"form\">\n        {signUpError && <Error message={signUpError} />}\n        <form>\n          <div className=\"form-control\">\n            <label htmlFor=\"username\">username : </label>\n            <input\n              type=\"username\"\n              id=\"username\"\n              name=\"username\"\n              placeholder=\"Create a username\"\n              value={person.username}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"email\">Email : </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Please enter your email\"\n              value={person.email}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"password\">password : </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Create a password\"\n              value={person.password}\n              onChange={handleChange}\n            />\n          </div>\n\n          <button type=\"submit\" onClick={handleRegister}>\n            Register\n          </button>\n        </form>\n      </article>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\nimport { logout } from \"../../utils/api/auth.api\";\nimport styles from \"./Navbar.module.scss\";\n\nfunction Navbar() {\n  const [logoutError, setLogoutError] = useState(\"\");\n\n  const { setUsername, setIsAuthenticated, setUserId } = useContext(\n    LoginContext\n  );\n\n  function handleLogout() {\n    logout((err: Error, result: any) => {\n      if (err) {\n        console.log(err);\n        setLogoutError(err.message);\n      } else {\n        setLogoutError(\"\");\n\n        // Can I get username back here?\n        console.log(\"LOGOUT result message\");\n        console.log(result);\n        setUsername(\"\");\n        setUserId(\"\");\n        setIsAuthenticated(false);\n      }\n    });\n  }\n  return (\n    <div className={`${styles.navBar} flex--space-around`}>\n      <div className={styles.navBar__item}>\n        <Link to=\"/\">Home</Link>\n      </div>\n      <div className={styles.navBar__item}>\n        <Link to=\"/users\">Users</Link>\n      </div>\n      <div className={styles.navBar__item}>\n        <button onClick={handleLogout}>Logout</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport LoggedInRoutesKeeper from \"./LoggedInRoutesKeeper\";\nimport LoggedInRoutes from \"./LoggedInRoutes\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Register from \"../../pages/register/RegisterPg.page\";\nimport Navbar from \"../Navbar/Navbar\";\nimport { authenticate } from \"../../utils/api/auth.api\";\nimport { LoginContext } from \"../../store/context/LoginContext\";\n\nconst Routing = () => {\n  const {\n    signUpStatus,\n    setSignUpStatus,\n    setUsername,\n    setIsAuthenticated,\n    setUserId,\n  } = useContext(LoginContext);\n\n  // Faking login for dev, to remove for production and uncomment Below!\n  useEffect(() => {\n    setIsAuthenticated(true);\n    setSignUpStatus(false);\n    setUsername(\"tester\");\n    setUserId(\"tester_id\");\n  }, []);\n\n  // useEffect(() => {\n  //   authenticate((err: Error, result: any) => {\n  //     if (err) {\n  //       console.log(err);\n  //       console.log(\"axios request error, or server down?\");\n  //     } else {\n  //       if (\n  //         result.data.message != \"Unauthorized\" &&\n  //         result.data.username &&\n  //         result.data.userId\n  //       ) {\n  //         setIsAuthenticated(true);\n  //         setSignUpStatus(false);\n  //         setUsername(result.data.username);\n  //         setUserId(result.data.userId);\n  //       } else {\n  //         console.log(\"user not authenticated: \" + result.data.message);\n  //       }\n  //     }\n  //   });\n  // }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        {/* <Route path=\"/login\">\n          <Login />\n        </Route> */}\n        <LoggedInRoutesKeeper>\n          <Navbar />\n          <LoggedInRoutes />\n        </LoggedInRoutesKeeper>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default Routing;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.scss\";\nimport { LoginContext } from \"./store/context/LoginContext\";\nimport Routing from \"./components/Routing/Routing\";\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [signUpStatus, setSignUpStatus] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalProps, setModalProps] = useState(false);\n\n  return (\n    <LoginContext.Provider\n      value={{\n        userId,\n        setUserId,\n        isAuthenticated,\n        username,\n        setUsername,\n        setIsAuthenticated,\n        signUpStatus,\n        setSignUpStatus,\n        showModal,\n        setShowModal,\n        modalProps,\n        setModalProps,\n      }}\n    >\n      <Routing />\n    </LoginContext.Provider>\n  );\n}\n\nexport default App;\n","import {\n  FEED_FETCH,\n  API_ERROR,\n  FeedActionTypes,\n  COMMENT_ADD,\n  POST_LIKE,\n  POST_CREATE,\n} from \"../constants/feedActionTypes\";\nimport { fetchFeed } from \"../../../utils/api/posts.api\";\nimport _ from \"lodash\";\n\nconst INITIAL_STATE = {\n  posts: <any[]>[],\n  error: null,\n};\n\nfunction feedReducer(feedState = INITIAL_STATE, action: FeedActionTypes) {\n  switch (action.type) {\n    case POST_CREATE: {\n      console.log(\"case POST_CREATE\");\n      console.log(action.post_obj_res);\n\n      const feedStore = {\n        ...feedState,\n        posts: [...[action.post_obj_res], ...feedState.posts],\n      };\n\n      return feedStore;\n    }\n    case FEED_FETCH: {\n      console.log(\"case FEED_FETCH\");\n      console.log(action.posts);\n\n      const feedStore = { ...feedState, posts: action.posts };\n\n      return feedStore;\n    }\n    case API_ERROR: {\n      console.log(\"case API_ERROR\");\n      console.log(action.error);\n\n      return { ...feedState, error: action.error };\n    }\n\n    case POST_LIKE: {\n      console.log(\"case POST_LIKE\");\n\n      let new_likes_arr: any[] = [];\n\n      for (let i = 0; i < feedState.posts.length; i++) {\n        if (feedState.posts[i].id == action.post_like.postId) {\n          if (!action.post_like.isLike) {\n            new_likes_arr = _.filter(\n              feedState.posts[i].likes,\n              (w) => w.userId != action.post_like.userId\n            );\n          } else {\n            new_likes_arr = [\n              ...feedState.posts[i].likes,\n              ...[\n                {\n                  id: action.post_like.id,\n                  userId: action.post_like.userId,\n                  postId: action.post_like.postId,\n                  username: action.post_like.username,\n                },\n              ],\n            ];\n          }\n          break;\n        }\n      }\n\n      const new_post_list = feedState.posts.map((post) => {\n        if (post.id == action.post_like.postId) {\n          return {\n            ...post,\n            likes: new_likes_arr,\n          };\n        }\n        return { ...post };\n      });\n\n      const final_state = {\n        ...feedState,\n        posts: new_post_list,\n      };\n\n      return final_state;\n    }\n\n    case COMMENT_ADD: {\n      console.log(\"case COMMENT_ADD\");\n\n      const new_state_post = feedState.posts.map((post) => {\n        if (post.id == action.comment_obj.postId) {\n          const new_commentList = [...post.commentList, action.comment_obj];\n\n          return { ...post, commentList: new_commentList };\n        } else {\n          return post;\n        }\n      });\n\n      return { ...feedState, posts: new_state_post };\n    }\n\n    default:\n      return feedState;\n  }\n}\n\nexport default feedReducer;\n","import {\n  USERS_FETCH,\n  API_ERROR,\n  UsersActionTypes,\n} from \"../constants/usersActionTypes\";\nimport _ from \"lodash\";\n\nconst INITIAL_STATE = {\n  users: <any[]>[],\n  error: null,\n};\n\nfunction userReducer(usersState = INITIAL_STATE, action: UsersActionTypes) {\n  switch (action.type) {\n    case API_ERROR: {\n      return { ...usersState, error: action.error };\n    }\n    case USERS_FETCH: {\n      const usersStore = { ...usersState, users: action.users };\n\n      return usersStore;\n    }\n    default:\n      return usersState;\n  }\n}\n\nexport default userReducer;\n","import { combineReducers } from \"redux\";\nimport feedReducer from \"./feed\";\nimport userReducer from \"./user\";\n\nconst rootReducer = combineReducers({\n  feedState: feedReducer,\n  usersState: userReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger\";\nimport rootReducer from \"../reducers\";\n\nconst logger = createLogger();\n\nconst store = createStore(rootReducer, applyMiddleware(thunk, logger));\n\nexport default store;\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store/redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}